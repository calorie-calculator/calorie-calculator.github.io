{"version":3,"sources":["shared/i18n-keys/common.ts","shared/i18n-keys/personal-details.ts","shared/i18n-keys/how-calculation-works.ts","shared/i18n-keys/calorie-checker.ts","shared/i18n-keys/results-section-planning-diet.ts","shared/i18n-keys/results-section-choosing-foods.ts","shared/i18n-keys/results-section-how-to-eat-well.ts","shared/i18n-keys/results-section-how-to-gain-weight.ts","shared/i18n-keys/results-section-how-to-lose-weight.ts","shared/models.ts","shared/i18n.ts","shared/store.ts","shared/saveSubmissionFlagContext.tsx","shared/SubmissionContext.tsx","shared/FormStateContext.tsx","assets/icon-close.svg","shared/page-template/PageTemplateAppSettings.tsx","shared/page-template/PageTemplate.tsx","shared/ScrollToTop.tsx","shared/utils.ts","home/HomeResultNotification.tsx","home/Home.tsx","shared/formik-antd/field.tsx","shared/formik-antd/input-number.tsx","shared/formik-antd/select.tsx","shared/formik-antd/radio.tsx","shared/BaseExpander.tsx","personal-details/PersonalDetailsRationale.tsx","personal-details/PersonalDetailsForm.tsx","shared/BaseGoBackButton.tsx","personal-details/PersonalDetails.tsx","activity-level/ActivityLevelForm.tsx","activity-level/ActivityLevel.tsx","fitness-goal/FitnessGoalForm.tsx","assets/icon-arrow-right-circle.svg","fitness-goal/FitnessGoal.tsx","shared/BaseActionLink.tsx","results/ResultSectionChoosingFood.tsx","shared/BaseSummaryList.tsx","results/ResultSectionYourAnswers.tsx","results/ResultSectionHowCalculationWorks.tsx","results/ResultSectionDietPlan.tsx","results/ResultSectionHowToGainWeight.tsx","results/ResultSectionHowToLoseWeight.tsx","results/ResultSectionAdvice.tsx","results/ResultSectionHowToEatWell.tsx","results/ResultPage.tsx","results/ResultInputChangeNotification.tsx","results/Result.tsx","how-calculation-works/HowCalculationWorksActivityRateTable.tsx","shared/BaseBackToTopButton.tsx","how-calculation-works/HowCalculationWorks.tsx","shared/SubmissionBanner.tsx","shared/UpdateDocumentLang.tsx","shared/BaseMarkdownConverter.tsx","WeightGainGuide.tsx","WeightLossGuide.tsx","EatWellGuide.tsx","services/calorie-checker-service.ts","calorie-checker/CalorieCheckerFoodWithNoControl.tsx","calorie-checker/CalorieCheckerFoodWithSwitch.tsx","calorie-checker/CalorieCheckerFood.tsx","calorie-checker/CalorieChecker.tsx","AboutThisApp.tsx","Disclaimer.tsx","App.tsx","index.tsx"],"names":["I18nKeys","PersonalDetailsI18nKeys","HowCalculationWorksI18nKeys","CalorieCheckerI18nKeys","ResultSectionPlanningDietI18nKeys","ResultSectionChoosingFoodsI18nKeys","ResultSectionHowToEatWellI18nKeys","ResultSectionHowToGainWeightI18nKeys","ResultSectionHowToLoseWeightI18nKeys","RoutePath","Language","I18nNamespace","PersonalInfoFormField","ActivityLevel","allLanguages","Object","values","sexI18nKeys","male","Male","female","Female","ActivityFormField","GoalType","activityRates","Sedentary","Light","Moderate","Active","ExtraActive","activityLabelI18nKeys","SedentaryHours","LightHours","ModerateHours","ActiveHours","ExtraActiveHours","GoalFormField","goalLabelI18nKeys","Balance","MaintainWeight","Bulk","GainMuscle","Cut","LoseWeight","MealType","StorageKey","FoodType","mealPortions","Breakfast","Lunch","Dinner","DrinksAndSnacks","mealLabelI18nKeys","Snacks","ageSchema","Yup","nullable","required","FieldIsRequired_field","integer","FieldMustBeInteger_field","min","FieldCannotBeLowerThan_field_min","max","FieldCannotBeHigherThan_field_max","heightSchema","weightSchema","sexSchema","ChooseAnOption_field","activityLevelSchema","ChooseAnOption","goalSchema","PersonalInfoFormSchema","shape","Age","Height","Weight","Sex","ActivityFormSchema","Level","GoalFormSchema","Goal","FoodUnit","allFoodTypes","foodTypeI18nKeys","Grains","MeatFishEggAlternatives","Vegetables","Fruits","ReadyToEatDishes","BreadCakesPastries","ChineseDimSum","OtherReadyToEatFoods","Drinks","FatsAndOils","Others","Format","foodUnitI18nKeys","BowlAlt","Bowl","Slice","Link","Chop","Thigh","Wing","Duck","Goose","Fillet","PieceAlt","PieceAlt_2","Piece","Large","Block","Tablespoon","Stalk","Ear","Mushroom","Medium","Plate","Kernel","Candy","Bar","Scoop","Ball","Bag","Portion","Cup","Can","allI18nNamespaces","resources","En","General","en","PersonalDetails","personalDetailsEn","HowCalculationWorks","resultSectionHowCalculationWorksEn","ChoosingFoods","resultSectionChoosingFoodsEn","PlanningDiet","resultSectionPlanningDietEn","ResultSectionHowToLoseWeight","resultSectionHowToLoseWeightEn","ResultSectionHowToGainWeight","resultSectionHowToGainWeightEn","ResultSectionHowToEatWell","resultSectionHowToEatWellEn","CalorieChecker","calorieCheckerEn","ZhHk","zh","personalDetailsZh","resultSectionHowCalculationWorksZh","resultSectionChoosingFoodsZh","resultSectionPlanningDietZh","resultSectionHowToLoseWeightZh","resultSectionHowToGainWeightZh","resultSectionHowToEatWellZh","calorieCheckerZh","i18n","use","LanguageDetector","initReactI18next","init","ns","defaultNS","fallbackNS","detection","order","lookupLocalStorage","Lang","fallbackLng","interpolation","escapeValue","format","value","Lowercase","toLowerCase","setSubmission","data","submissionTime","submission","localStorage","setItem","Submission","JSON","stringify","getSubmission","item","getItem","parse","setInMemorySubmission","sessionStorage","getInMemorySubmission","SaveSubmissionFlagContext","React","createContext","saveSubmissionFlag","setSaveSubmissionFlag","Error","SaveSubmissionFlagContextProvider","children","useState","StoreSubmissionFlag","getStoreSubmissionFlag","useEffect","saveSubmission","Provider","submissionContextInitialValue","updateSubmission","SubmissionContext","SubmissionContextProvider","useContext","setLocalSubmission","removeItem","formData","_path","FormStateContext","formState","updateFormState","formStateInitialValue","age","sex","height","weight","activityLevel","goal","updatedAt","FormStateContextProvider","FormState","getInMemoryFormState","setFormState","setInMemoryFormState","_excluded","_extends","assign","target","i","arguments","length","source","key","prototype","hasOwnProperty","call","apply","this","_objectWithoutProperties","excluded","sourceKeys","keys","indexOf","_objectWithoutPropertiesLoose","getOwnPropertySymbols","sourceSymbolKeys","propertyIsEnumerable","SvgIconClose","_ref","svgRef","title","titleId","props","className","xmlns","viewBox","focusable","width","ref","id","d","ForwardRef","languageLabels","PageTemplateAppSettings","onClose","useTranslation","t","Settings","onClick","Group","resolvedLanguage","onChange","event","lang","changeLanguage","map","SaveSubmissions","checked","SaveResultsParagraph","DoNotSaveResultsParagraph","to","AboutThisApp","Disclaimer","PageTemplate","location","useLocation","showSettings","setShowSettings","Home","CalorieCalculator","classNames","ScrollToTop","pathname","window","scrollTo","goalRates","isFormValid","schema","isValidSync","formatDate","date","Intl","DateTimeFormat","HomeResultNotification","history","useHistory","latestSubmission","isToday","Date","now","ResultsAvailable","YouCompletedFormToday_time","time","timeStyle","YouCompletedFormOnDate_date","type","htmlType","push","Results","ViewResults","HomeFirstParagraph","HomeSecondParagraph","HomeThirdParagraph","size","block","StartNow","Field","fast","restProps","InputNumber","name","validate","$onChange","$onBlur","onBlur","field","form","setFieldValue","setFieldTouched","v","Select","option","undefined","Option","AntSelect","OptGroup","Radio","Button","AntRadio","Panel","Collapse","BaseExpander","ghost","collapsible","header","CaretRightFilled","showArrow","PersonalDetailsRationale","RationaleFirstParagraph","RationaleSecondParagraph","RationaleThirdParagraph","FactorFirstParagraph","FactorSecondParagraph","FactorThirdParagraph","PersonalDetailsForm","initialValues","onSubmit","setSubmitting","FormField","some","validationSchema","validateOnBlur","validateOnChange","errors","touched","isSubmitting","PageTitle","EnterAgeSexHeightWeight","WhyDoWeNeedThem","classnames","htmlFor","CommonI18nKeys","inputMode","pattern","disabled","Continue","BaseGoBackButton","titleOverride","LeftOutlined","PreviousPage","exampleActivityI18nKeys","Jogging","Swimming","Tennis","Dancing","allActivityLevels","ActivityLevelForm","initialValue","activityOptions","FitnessGoal","ActivityPageTitle","WhatCounts","CountFirstParagraph","CountSecondParagraph","direction","state","from","_path2","allGoals","FitnessGoalForm","goalOptions","ToAchieveGoal_goal","updatedFormData","GoalPageTitle","WhyAreWeAsking","GoalPageFirstParagraph","GoalPageSecondParagraph","GoalPageThirdParagraph","SeeResults","SvgIconArrowRightCircle","fill","BaseActionLink","ResultSectionChoosingFood","Title","FirstParagraph","SecondParagraph","FourthParagraph","OpenFoodCalorieChecker","BaseSummaryList","rows","index","action","callback","ResultSectionYourAnswers","personInfo","summaryListData","AnswersTitle","StartAgain","ResultSectionHowCalculationWorks","IntroActiveVoice","CalculateBMR","CalculateTDEE","CaterToFitnessGoal","Trans","i18nKey","LearnMoreAboutHowCalculationWorks_Link","components","ResultSectionDietPlan","listItems","mealType","mealCaloriesAndPercent_meal_calorie_percent","meal","calorie","Math","round","percent","ThirdParagraph","FifthParagraph","WeightGainGuide","OpenWeightGainGuide","WeightLossGuide","OpenWeightLossGuide","ResultSectionAdvice","EatWellGuide","OpenEatWellGuide","ResultPage","bmr","computeBMR","goalType","computeTarget","ResultsTitle","CaloriesPerDay","ResultInputChangeNotification","YourInputHasChanged","NotificationFirstPara","GoBack","Result","Column","Table","allActivityTypes","ActivityRateTable","tableData","rate","dataSource","WeeklyExerciseAmount","dataIndex","ActivityLevelFactor","BaseBackToTopButton","ArrowUpOutlined","BackToTop","GoBackToResults","Intro","StepOneFirstPara","HowTo","StepOneSecondPara","BMREquationName","ForMen","FOrWomen","StepOneThirdPara","StepTwoFirstPara","TheBMR","FoodThermicEffect","ActivityThermicEffect","StepTwoSecondPara","StepTwoThirdPara","StepTwoFourthPara","ActivityLevelFactorTableName","pagination","StepThreeFirstPara","StepThreeSecondPara","WeightGainingExplanation","WeightLossExplanation","StepThreeThirdPara","StepThreeFourthPara","StepThreeFifthPara","SubmissionBanner","showBanner","setShowBanner","showConfirmation","setShowConfirmation","KeepSubmissionConfirmation","DoNotKeepSubmissionConfirmation","HideThisMessage","DoYouWantToKeepSubmission","BannerFirstParagraph","BannerKeepSubmission","BannerDoNotKeepSubmission","UpdateDocumentLang","document","documentElement","BaseMarkdownConverter","url","onLoad","markdown","setMarkdown","a","axios","get","then","dangerouslySetInnerHTML","__html","marked","sanitizer","dirty","dompurify","sanitize","active","paragraph","showBackToTopButton","setShowBackToTopButton","process","CalorieCheckerFoodWithNoControl","food","nameZh","weightWithUnit","Milliliter_amount","amount","Grams_amount","Amount","Calories","Kilocalorie_amount","CalorieCheckerFoodWithSwitch","string","portion","unit","selectedAmount","setSelectedAmount","portionWithUnit","HalfPortionWithUnit_unit","PortionWithUnit_portion_unit","count","includes","Number","options","label","PortionAndWeightInBrackets_portion_weight","caloriesPerOneHundredGramsOrMilliliters","optionType","CalorieCheckerFood","foodArray","setFoodArray","Promise","resolve","delimiter","download","transformHeader","trim","transform","_value","complete","arr","Loading","indicator","LoadingOutlined","spin","foodType","getElementById","scrollIntoView","scrollToElementWithId","activeKey","filter","GoBackHome","App","autoInsertSpaceInButton","path","exact","ReactDOM","render","StrictMode"],"mappings":"0/6BAAYA,ECAAC,ECAAC,ECAAC,ECAAC,ECAAC,ECAAC,ECAAC,ECAAC,E,sQRAAR,K,oBAAAA,E,kCAAAA,E,4CAAAA,E,sDAAAA,E,4BAAAA,E,wBAAAA,E,sDAAAA,E,4CAAAA,E,4CAAAA,E,sDAAAA,E,wDAAAA,E,kEAAAA,E,kCAAAA,E,gBAAAA,E,sBAAAA,E,gCAAAA,E,sCAAAA,E,wBAAAA,E,kCAAAA,E,wBAAAA,E,4BAAAA,E,kBAAAA,E,wBAAAA,E,UAAAA,E,UAAAA,E,YAAAA,E,gBAAAA,E,gBAAAA,E,gBAAAA,E,YAAAA,E,oBAAAA,E,gBAAAA,E,4BAAAA,E,oBAAAA,E,wCAAAA,E,8CAAAA,E,gCAAAA,E,4CAAAA,E,oDAAAA,E,sEAAAA,E,oEAAAA,E,oCAAAA,E,wDAAAA,E,0DAAAA,E,0BAAAA,E,sCAAAA,E,wCAAAA,E,0CAAAA,E,wCAAAA,E,oBAAAA,E,YAAAA,E,sCAAAA,E,wBAAAA,E,0CAAAA,E,4CAAAA,E,kBAAAA,E,oBAAAA,E,gBAAAA,E,kBAAAA,E,gCAAAA,E,wBAAAA,E,8BAAAA,E,0BAAAA,E,oCAAAA,E,oCAAAA,E,8BAAAA,E,gCAAAA,E,gDAAAA,E,kDAAAA,E,gDAAAA,E,wBAAAA,E,0CAAAA,E,8CAAAA,E,gBAAAA,E,4BAAAA,E,gCAAAA,E,oBAAAA,E,4BAAAA,E,wBAAAA,E,kCAAAA,E,wCAAAA,E,4CAAAA,E,oDAAAA,E,YAAAA,E,sBAAAA,E,cAAAA,E,gBAAAA,E,iBAAAA,M,cCAAC,K,sBAAAA,E,kDAAAA,E,kCAAAA,E,kDAAAA,E,oDAAAA,E,kDAAAA,E,4CAAAA,E,8CAAAA,E,6CAAAA,M,cCAAC,K,cAAAA,E,cAAAA,E,oCAAAA,E,gFAAAA,E,4BAAAA,E,8BAAAA,E,wCAAAA,E,cAAAA,E,oCAAAA,E,sCAAAA,E,kCAAAA,E,gBAAAA,E,oBAAAA,E,oCAAAA,E,oCAAAA,E,gBAAAA,E,sCAAAA,E,8CAAAA,E,sCAAAA,E,oCAAAA,E,sCAAAA,E,4DAAAA,E,4CAAAA,E,0CAAAA,E,wCAAAA,E,0CAAAA,E,oDAAAA,E,8CAAAA,E,w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","file":"static/js/main.1e2baae9.chunk.js","sourcesContent":["export enum I18nKeys {\r\n  // App header\r\n  Settings = 'Settings',\r\n  SaveSubmissions = 'SaveSubmissions',\r\n  SaveResultsParagraph = 'SaveResultsParagraph',\r\n  DoNotSaveResultsParagraph = 'DoNotSaveResultsParagraph',\r\n  AboutThisApp = 'AboutThisApp',\r\n  Disclaimer = 'Disclaimer',\r\n\r\n  // Last submission banner\r\n  DoYouWantToKeepSubmission = 'DoYouWantToKeepSubmission',\r\n  BannerFirstParagraph = 'BannerFirstParagraph',\r\n  BannerKeepSubmission = 'BannerKeepSubmission',\r\n  BannerDoNotKeepSubmission = 'BannerDoNotKeepSubmission',\r\n  KeepSubmissionConfirmation = 'KeepSubmissionConfirmation',\r\n  DoNotKeepSubmissionConfirmation = 'DoNotKeepSubmissionConfirmation',\r\n  HideThisMessage = 'HideThisMessage',\r\n\r\n  // Common\r\n  Amount = 'Amount',\r\n  BackToTop = 'BackToTop',\r\n  MaintainWeight = 'MaintainWeight',\r\n  Milliliter_amount = 'Milliliter_amount',\r\n  GainMuscle = 'GainMuscle',\r\n  GoBackToResults = 'GoBackToResults',\r\n  GoBackHome = 'GoBackHome',\r\n  Grams_amount = 'Grams_amount',\r\n  Loading = 'Loading',\r\n  LoseWeight = 'LoseWeight',\r\n  Age = 'Age',\r\n  Sex = 'Sex',\r\n  Male = 'Male',\r\n  Female = 'Female',\r\n  Height = 'Height',\r\n  Weight = 'Weight',\r\n  Goal = 'Goal',\r\n  Continue = 'Continue',\r\n  Change = 'Change',\r\n  PreviousPage = 'PreviousPage',\r\n  Calories = 'Calories',\r\n  Kilocalorie_amount = 'Kilocalorie_amount',\r\n\r\n  // Error messages\r\n  FieldIsRequired_field = 'FieldIsRequired_field',\r\n  ChooseAnOption = 'ChooseAnOption',\r\n  ChooseAnOption_field = 'ChooseAnOption_field',\r\n  FieldMustBeInteger_field = 'FieldMustBeInteger_field',\r\n  FieldCannotBeHigherThan_field_max = 'FieldCannotBeHigherThan_field_max',\r\n  FieldCannotBeLowerThan_field_min = 'FieldCannotBeLowerThan_field_min',\r\n\r\n  // Result notification\r\n  ResultsAvailable = 'ResultsAvailable',\r\n  YouCompletedFormToday_time = 'YouCompletedFormToday_time',\r\n  YouCompletedFormOnDate_date = 'YouCompletedFormOnDate_date',\r\n  ViewResults = 'ViewResults',\r\n\r\n  // Home\r\n  CalorieCalculator = 'CalorieCalculator',\r\n  HomeFirstParagraph = 'HomeFirstParagraph',\r\n  HomeSecondParagraph = 'HomeSecondParagraph',\r\n  HomeThirdParagraph = 'HomeThirdParagraph',\r\n  StartNow = 'StartNow',\r\n\r\n  // Activity level\r\n  Home = 'Home',\r\n  ActivityPageTitle = 'ActivityPageTitle',\r\n  WhatCounts = 'WhatCounts',\r\n  CountFirstParagraph = 'CountFirstParagraph',\r\n  CountSecondParagraph = 'CountSecondParagraph',\r\n  Jogging = 'Jogging',\r\n  Swimming = 'Swimming',\r\n  Tennis = 'Tennis',\r\n  Dancing = 'Dancing',\r\n  SedentaryHours = 'SedentaryHours',\r\n  LightHours = 'LightHours',\r\n  ModerateHours = 'ModerateHours',\r\n  ActiveHours = 'ActiveHours',\r\n  ExtraActiveHours = 'ExtraActiveHours',\r\n\r\n  // Fitness goal\r\n  PreviousQuestion = 'PreviousQuestion',\r\n  GoalPageTitle = 'GoalPageTitle',\r\n  WhyAreWeAsking = 'WhyAreWeAsking',\r\n  GoalPageFirstParagraph = 'GoalPageFirstParagraph',\r\n  GoalPageSecondParagraph = 'GoalPageSecondParagraph',\r\n  GoalPageThirdParagraph = 'GoalPageThirdParagraph',\r\n  SeeResults = 'SeeResults',\r\n\r\n  // Input change notification\r\n  YourInputHasChanged = 'YourInputHasChanged',\r\n  NotificationFirstPara = 'NotificationFirstPara',\r\n  GoBack = 'GoBack',\r\n\r\n  // Results\r\n  ResultsTitle = 'ResultsTitle',\r\n  CaloriesPerDay = 'CaloriesPerDay',\r\n  Servings = 'Servings',\r\n  AnswersTitle = 'AnswersTitle',\r\n  StartAgain = 'StartAgain',\r\n  PersonalDetails = 'PersonalDetails',\r\n  ToAchieveGoal_goal = 'ToAchieveGoal_goal',\r\n  HowWeCalculateTarget = 'HowWeCalculateTarget',\r\n  LearnHowCalculationWorks = 'LearnHowCalculationWorks',\r\n\r\n  // Meal table\r\n  Meal = 'Meal',\r\n  Breakfast = 'Breakfast',\r\n  Lunch = 'Lunch',\r\n  Dinner = 'Dinner',\r\n  Snacks = 'Snacks',\r\n}\r\n","export enum PersonalDetailsI18nKeys {\r\n  PageTitle = 'PageTitle',\r\n  EnterAgeSexHeightWeight = 'EnterAgeSexHeightWeight',\r\n  WhyDoWeNeedThem = 'WhyDoWeNeedThem',\r\n  RationaleFirstParagraph = 'RationaleFirstParagraph',\r\n  RationaleSecondParagraph = 'RationaleSecondParagraph',\r\n  RationaleThirdParagraph = 'RationaleThirdParagraph',\r\n  FactorFirstParagraph = 'FactorFirstParagraph',\r\n  FactorSecondParagraph = 'FactorSecondParagraph',\r\n  FactorThirdParagraph = 'FactorThirdParagraph',\r\n}\r\n","export enum HowCalculationWorksI18nKeys {\r\n  Title = 'Title',\r\n  Intro = 'Intro',\r\n  IntroActiveVoice = 'IntroActiveVoice',\r\n  LearnMoreAboutHowCalculationWorks_Link = 'LearnMoreAboutHowCalculationWorks_Link',\r\n  CalculateBMR = 'CalculateBMR',\r\n  CalculateTDEE = 'CalculateTDEE',\r\n  CaterToFitnessGoal = 'CaterToFitnessGoal',\r\n  HowTo = 'HowTo',\r\n\r\n  // Step one\r\n  StepOneFirstPara = 'StepOneFirstPara',\r\n  StepOneSecondPara = 'StepOneSecondPara',\r\n  BMREquationName = 'BMREquationName',\r\n  ForMen = 'ForMen',\r\n  FOrWomen = 'ForWomen',\r\n  StepOneThirdPara = 'StepOneThirdPara',\r\n\r\n  // Step two\r\n  StepTwoFirstPara = 'StepTwoFirstPara',\r\n  TheBMR = 'TheBMR',\r\n  FoodThermicEffect = 'FoodThermicEffect',\r\n  ActivityThermicEffect = 'ActivityThermicEffect',\r\n  StepTwoSecondPara = 'StepTwoSecondPara',\r\n  StepTwoThirdPara = 'StepTwoThirdPara',\r\n  StepTwoFourthPara = 'StepTwoFourthPara',\r\n  ActivityLevelFactorTableName = 'ActivityLevelFactorTableName',\r\n  WeeklyExerciseAmount = 'WeeklyExerciseAmount',\r\n  ActivityLevelFactor = 'ActivityLevelFactor',\r\n\r\n  // Step three\r\n  StepThreeFirstPara = 'StepThreeFirstPara',\r\n  StepThreeSecondPara = 'StepThreeSecondPara',\r\n  WeightGainingExplanation = 'WeightGainingExplanation',\r\n  WeightLossExplanation = 'WeightLossExplanation',\r\n  StepThreeThirdPara = 'StepThreeThirdPara',\r\n  StepThreeFourthPara = 'StepThreeFourthPara',\r\n  StepThreeFifthPara = 'StepThreeFifthPara',\r\n}\r\n","export enum CalorieCheckerI18nKeys {\r\n  Title = 'Title',\r\n  Intro = 'Intro',\r\n\r\n  // Food types\r\n  Grains = 'Grains',\r\n  MeatFishEggAlternatives = 'MeatFishEggAlternatives',\r\n  Vegetables = 'Vegetables',\r\n  Fruits = 'Fruits',\r\n  ReadyToEatDishes = 'ReadyToEatDishes',\r\n  BreadCakesPastries = 'BreadCakesPastries',\r\n  ChineseDimSum = 'ChineseDimSum',\r\n  Snacks = 'Snacks',\r\n  OtherReadyToEatFoods = 'OtherReadyToEatFoods',\r\n  Drinks = 'Drinks',\r\n  FatsAndOils = 'FatsAndOils',\r\n  Others = 'Others',\r\n\r\n  PortionWithUnit_portion_unit = 'PortionWithUnit_portion_unit',\r\n  HalfPortionWithUnit_unit = 'HalfPortionWithUnit_unit',\r\n  PortionAndWeightInBrackets_portion_weight = 'PortionAndWeightInBrackets_portion_weight',\r\n\r\n  // Food unit\r\n  BowlAlt = 'BowlAlt',\r\n  Bowl = 'Bowl',\r\n  Slice = 'Slice',\r\n  Link = 'Link',\r\n  Chop = 'Chop',\r\n  Thigh = 'Thigh',\r\n  Wing = 'Wing',\r\n  Duck = 'Duck',\r\n  Goose = 'Goose',\r\n  Fillet = 'Fillet',\r\n  PieceAlt = 'PieceAlt',\r\n  PieceAlt_2 = 'PieceAlt_2',\r\n  Piece = 'Piece',\r\n  Large = 'Large',\r\n  Block = 'Block',\r\n  Tablespoon = 'Tablespoon',\r\n  Stalk = 'Stalk',\r\n  Ear = 'Ear',\r\n  Mushroom = 'Mushroom',\r\n  Medium = 'Medium',\r\n  Plate = 'Plate',\r\n  Kernel = 'Kernel',\r\n  Candy = 'Candy',\r\n  Bar = 'Bar',\r\n  Scoop = 'Scoop',\r\n  Ball = 'Ball',\r\n  Bag = 'Bag',\r\n  Portion = 'Portion',\r\n  Cup = 'Cup',\r\n  Can = 'Can',\r\n}\r\n","export enum ResultSectionPlanningDietI18nKeys {\r\n  Title = 'Title',\r\n  Breakfast = 'Breakfast',\r\n  Lunch = 'Lunch',\r\n  Dinner = 'Dinner',\r\n  Snacks = 'Snacks',\r\n  mealCaloriesAndPercent_meal_calorie_percent = 'mealCaloriesAndPercent_meal_calorie_percent',\r\n  FirstParagraphGainMuscle_target = 'FirstParagraphGainMuscle_target',\r\n  FirstParagraphLoseWeight_target = 'FirstParagraphLoseWeight_target',\r\n  FirstParagraphMaintainWeight_target = 'FirstParagraphMaintainWeight_target',\r\n  FirstParagraph = 'FirstParagraph',\r\n  SecondParagraph = 'SecondParagraph',\r\n  ThirdParagraph = 'ThirdParagraph',\r\n  FourthParagraph = 'FourthParagraph',\r\n  FifthParagraph = 'FifthParagraph',\r\n}\r\n","export enum ResultSectionChoosingFoodsI18nKeys {\r\n  Title = 'Title',\r\n  BigMac = 'BigMac',\r\n  ChickenRice = 'ChickenRice',\r\n  CaloriesPerServing_amount = 'CaloriesPerServing_amount',\r\n  PercentOfTarget_percent = 'PercentOfTarget_percent',\r\n  OpenFoodCalorieChecker = 'OpenFoodCalorieChecker',\r\n  FirstParagraph = 'FirstParagraph',\r\n  SecondParagraph = 'SecondParagraph',\r\n  ThirdParagraph = 'ThirdParagraph',\r\n  FourthParagraph = 'FourthParagraph',\r\n  FifthParagraph = 'FifthParagraph',\r\n}\r\n","export enum ResultSectionHowToEatWellI18nKeys {\r\n  Title = 'Title',\r\n  OpenEatWellGuide = 'OpenEatWellGuide',\r\n  FirstParagraph = 'FirstParagraph',\r\n  SecondParagraph = 'SecondParagraph',\r\n  ThirdParagraph = 'ThirdParagraph',\r\n}\r\n","export enum ResultSectionHowToGainWeightI18nKeys {\r\n  Title = 'Title',\r\n  OpenWeightGainGuide = 'OpenWeightGainGuide',\r\n  FirstParagraph = 'FirstParagraph',\r\n  SecondParagraph = 'SecondParagraph',\r\n  ThirdParagraph = 'ThirdParagraph',\r\n}\r\n","export enum ResultSectionHowToLoseWeightI18nKeys {\r\n  Title = 'Title',\r\n  OpenWeightLossGuide = 'OpenWeightLossGuide',\r\n  FirstParagraph = 'FirstParagraph',\r\n  SecondParagraph = 'SecondParagraph',\r\n  ThirdParagraph = 'ThirdParagraph',\r\n}\r\n","import { I18nKeys, CalorieCheckerI18nKeys } from 'shared/i18n-keys';\r\nimport * as Yup from 'yup';\r\n\r\nexport enum RoutePath {\r\n  Home = '/',\r\n  PersonalDetails = '/personal-details',\r\n  ActivityLevel = '/activity-level',\r\n  FitnessGoal = '/fitness-goal',\r\n  Results = '/results',\r\n  CalorieChecker = '/calorie-checker',\r\n  HowCalculationWorks = '/how-calculation-works',\r\n  WeightLossGuide = '/weight-loss-guide',\r\n  WeightGainGuide = '/weight-gain-guide',\r\n  EatWellGuide = '/eat-well-guide',\r\n  AboutThisApp = '/about-this-app',\r\n  Disclaimer = '/disclaimer',\r\n}\r\n\r\nexport enum Language {\r\n  En = 'en',\r\n  ZhHk = 'zh',\r\n  // ZhYue = 'zh-yue-HK',\r\n}\r\n\r\nexport enum I18nNamespace {\r\n  General = 'general',\r\n  PersonalDetails = 'personal-details',\r\n  HowCalculationWorks = 'how-calculation-works',\r\n  ChoosingFoods = 'choosing-foods',\r\n  PlanningDiet = 'planning-diet',\r\n  ResultSectionHowToLoseWeight = 'result-section-how-to-lose-weight',\r\n  ResultSectionHowToGainWeight = 'result-section-how-to-gain-weight',\r\n  ResultSectionHowToEatWell = 'result-section-how-to-eat-well',\r\n  CalorieChecker = 'calorie-checker',\r\n}\r\n\r\nexport const allLanguages = Object.values(Language);\r\n\r\nexport type Sex = 'male' | 'female';\r\n\r\nexport const sexI18nKeys: Record<Sex, I18nKeys> = {\r\n  male: I18nKeys.Male,\r\n  female: I18nKeys.Female,\r\n};\r\n\r\nexport enum PersonalInfoFormField {\r\n  Age = 'age',\r\n  Sex = 'sex',\r\n  Height = 'height',\r\n  Weight = 'weight',\r\n}\r\n\r\nexport interface PersonalInfoFormModel {\r\n  [PersonalInfoFormField.Age]: number;\r\n  [PersonalInfoFormField.Sex]: Sex;\r\n  [PersonalInfoFormField.Height]: number; // cm\r\n  [PersonalInfoFormField.Weight]: number; // kg\r\n}\r\n\r\nexport enum ActivityLevel {\r\n  Sedentary = 'sedentary',\r\n  Light = 'light',\r\n  Moderate = 'moderate',\r\n  Active = 'active',\r\n  ExtraActive = 'extraActive',\r\n}\r\n\r\nexport const activityRates: Record<ActivityLevel, number> = {\r\n  [ActivityLevel.Sedentary]: 1.2,\r\n  [ActivityLevel.Light]: 1.375,\r\n  [ActivityLevel.Moderate]: 1.55,\r\n  [ActivityLevel.Active]: 1.725,\r\n  [ActivityLevel.ExtraActive]: 1.9,\r\n};\r\n\r\nexport const activityLabelI18nKeys: Record<ActivityLevel, I18nKeys> = {\r\n  [ActivityLevel.Sedentary]: I18nKeys.SedentaryHours,\r\n  [ActivityLevel.Light]: I18nKeys.LightHours,\r\n  [ActivityLevel.Moderate]: I18nKeys.ModerateHours,\r\n  [ActivityLevel.Active]: I18nKeys.ActiveHours,\r\n  [ActivityLevel.ExtraActive]: I18nKeys.ExtraActiveHours,\r\n};\r\n\r\nexport enum ActivityFormField {\r\n  Level = 'activityLevel',\r\n}\r\n\r\nexport interface ActivityFormModel {\r\n  [ActivityFormField.Level]: ActivityLevel;\r\n}\r\n\r\nexport enum GoalType {\r\n  Bulk = 'bulk',\r\n  Cut = 'cut',\r\n  Balance = 'balance',\r\n}\r\n\r\nexport const goalLabelI18nKeys: Record<GoalType, I18nKeys> = {\r\n  [GoalType.Balance]: I18nKeys.MaintainWeight,\r\n  [GoalType.Bulk]: I18nKeys.GainMuscle,\r\n  [GoalType.Cut]: I18nKeys.LoseWeight,\r\n};\r\n\r\nexport enum GoalFormField {\r\n  Goal = 'goal',\r\n}\r\n\r\nexport interface GoalFormModel {\r\n  [GoalFormField.Goal]: GoalType;\r\n}\r\n\r\nexport interface FullFormModel extends PersonalInfoFormModel, ActivityFormModel, GoalFormModel {}\r\n\r\nexport const emptyFormModel: FullFormModel = {\r\n  age: null,\r\n  sex: null,\r\n  height: null,\r\n  weight: null,\r\n  activityLevel: null,\r\n  goal: null,\r\n};\r\n\r\nexport interface FormState {\r\n  formData: FullFormModel;\r\n  updatedAt: number;\r\n}\r\n\r\nexport type PersonInfo = FullFormModel;\r\n\r\nexport enum MealType {\r\n  Breakfast = 'breakfast',\r\n  Lunch = 'lunch',\r\n  Dinner = 'dinner',\r\n  DrinksAndSnacks = 'drinksAndSnacks',\r\n}\r\n\r\nexport const mealPortions: Record<MealType, number> = {\r\n  [MealType.Breakfast]: 0.2,\r\n  [MealType.Lunch]: 0.3,\r\n  [MealType.Dinner]: 0.3,\r\n  [MealType.DrinksAndSnacks]: 0.2,\r\n};\r\n\r\nexport const mealLabelI18nKeys: Record<MealType, I18nKeys> = {\r\n  [MealType.Breakfast]: I18nKeys.Breakfast,\r\n  [MealType.Lunch]: I18nKeys.Lunch,\r\n  [MealType.Dinner]: I18nKeys.Dinner,\r\n  [MealType.DrinksAndSnacks]: I18nKeys.Snacks,\r\n};\r\n\r\nconst ageSchema = Yup.number()\r\n  .nullable()\r\n  .required(I18nKeys.FieldIsRequired_field)\r\n  .integer(I18nKeys.FieldMustBeInteger_field)\r\n  .min(18, I18nKeys.FieldCannotBeLowerThan_field_min)\r\n  .max(120, I18nKeys.FieldCannotBeHigherThan_field_max);\r\nconst heightSchema = Yup.number()\r\n  .nullable()\r\n  .required(I18nKeys.FieldIsRequired_field)\r\n  .min(100, I18nKeys.FieldCannotBeLowerThan_field_min)\r\n  .max(272, I18nKeys.FieldCannotBeHigherThan_field_max);\r\nconst weightSchema = Yup.number()\r\n  .nullable()\r\n  .required(I18nKeys.FieldIsRequired_field)\r\n  .min(30, I18nKeys.FieldCannotBeLowerThan_field_min)\r\n  .max(130, I18nKeys.FieldCannotBeHigherThan_field_max);\r\nconst sexSchema = Yup.string().nullable().required(I18nKeys.ChooseAnOption_field);\r\nconst activityLevelSchema = Yup.string().nullable().required(I18nKeys.ChooseAnOption);\r\nconst goalSchema = Yup.string().nullable().required(I18nKeys.ChooseAnOption_field);\r\n\r\nexport const PersonalInfoFormSchema = Yup.object().shape({\r\n  [PersonalInfoFormField.Age]: ageSchema,\r\n  [PersonalInfoFormField.Height]: heightSchema,\r\n  [PersonalInfoFormField.Weight]: weightSchema,\r\n  [PersonalInfoFormField.Sex]: sexSchema,\r\n});\r\n\r\nexport const ActivityFormSchema = Yup.object().shape({\r\n  [ActivityFormField.Level]: activityLevelSchema,\r\n});\r\n\r\nexport const GoalFormSchema = Yup.object().shape({\r\n  [GoalFormField.Goal]: goalSchema,\r\n});\r\n\r\nexport const FullFormSchema = Yup.object().shape({\r\n  [PersonalInfoFormField.Age]: ageSchema,\r\n  [PersonalInfoFormField.Height]: heightSchema,\r\n  [PersonalInfoFormField.Weight]: weightSchema,\r\n  [PersonalInfoFormField.Sex]: sexSchema,\r\n  [ActivityFormField.Level]: activityLevelSchema,\r\n  [GoalFormField.Goal]: goalSchema,\r\n});\r\n\r\nexport enum StorageKey {\r\n  FormState = 'formState',\r\n  Submission = 'submission',\r\n  Lang = 'lang',\r\n  StoreSubmissionFlag = 'storeSubmissionFlag',\r\n}\r\n\r\nexport interface Submission {\r\n  data: FullFormModel;\r\n  submissionTime: number;\r\n}\r\n\r\nexport interface SummaryListAction {\r\n  name: string;\r\n  callback: () => void;\r\n}\r\n\r\nexport interface SummaryListRow {\r\n  key: string;\r\n  value: React.ReactNode;\r\n  action?: SummaryListAction;\r\n}\r\n\r\nexport interface SummaryListProps {\r\n  data: SummaryListRow[];\r\n}\r\n\r\nexport enum FoodType {\r\n  Grains = 'grains',\r\n  MeatFishEggAlternatives = 'meat_fish_egg_alternatives',\r\n  Vegetables = 'vegetables',\r\n  Fruits = 'fruits',\r\n  ReadyToEatDishes = 'ready_to_eat_dishes',\r\n  BreadCakesPastries = 'bread_cakes_pastries',\r\n  ChineseDimSum = 'chinese_dim_sum',\r\n  Snacks = 'snacks',\r\n  OtherReadyToEatFoods = 'other_ready_to_eat_foods',\r\n  Drinks = 'drinks',\r\n  FatsAndOils = 'fat_and_oils',\r\n  Others = 'others',\r\n}\r\n\r\nexport const allFoodTypes = Object.values(FoodType);\r\n\r\nexport const foodTypeI18nKeys: Record<FoodType, CalorieCheckerI18nKeys> = {\r\n  [FoodType.Grains]: CalorieCheckerI18nKeys.Grains,\r\n  [FoodType.MeatFishEggAlternatives]: CalorieCheckerI18nKeys.MeatFishEggAlternatives,\r\n  [FoodType.Vegetables]: CalorieCheckerI18nKeys.Vegetables,\r\n  [FoodType.Fruits]: CalorieCheckerI18nKeys.Fruits,\r\n  [FoodType.ReadyToEatDishes]: CalorieCheckerI18nKeys.ReadyToEatDishes,\r\n  [FoodType.BreadCakesPastries]: CalorieCheckerI18nKeys.BreadCakesPastries,\r\n  [FoodType.ChineseDimSum]: CalorieCheckerI18nKeys.ChineseDimSum,\r\n  [FoodType.Snacks]: CalorieCheckerI18nKeys.Snacks,\r\n  [FoodType.OtherReadyToEatFoods]: CalorieCheckerI18nKeys.OtherReadyToEatFoods,\r\n  [FoodType.Drinks]: CalorieCheckerI18nKeys.Drinks,\r\n  [FoodType.FatsAndOils]: CalorieCheckerI18nKeys.FatsAndOils,\r\n  [FoodType.Others]: CalorieCheckerI18nKeys.Others,\r\n};\r\n\r\nexport interface Food {\r\n  type: FoodType;\r\n  name: string;\r\n  nameZh: string;\r\n  portion: string | null;\r\n  unit: FoodUnit | null;\r\n  weight: number;\r\n  calorie: number;\r\n}\r\n\r\nexport interface FoodWithPortionAndUnit extends Food {\r\n  portion: string;\r\n  unit: FoodUnit;\r\n}\r\n\r\nexport enum FoodUnit {\r\n  BowlAlt = 'bowl-alt',\r\n  Bowl = 'bowl',\r\n  Slice = 'slice',\r\n  Link = 'link',\r\n  Chop = 'chop',\r\n  Thigh = 'thigh',\r\n  Wing = 'wing',\r\n  Duck = 'duck',\r\n  Goose = 'goose',\r\n  Fillet = 'fillet',\r\n  PieceAlt = 'piece-alt',\r\n  PieceAlt_2 = 'piece-alt-2',\r\n  Piece = 'piece',\r\n  Large = 'large',\r\n  Block = 'block',\r\n  Tablespoon = 'tablespoon',\r\n  Stalk = 'stalk',\r\n  Ear = 'ear',\r\n  Mushroom = 'mushroom',\r\n  Medium = 'medium',\r\n  Plate = 'plate',\r\n  Kernel = 'kernel',\r\n  Candy = 'candy',\r\n  Bar = 'bar',\r\n  Scoop = 'scoop',\r\n  Ball = 'ball',\r\n  Bag = 'bag',\r\n  Portion = 'portion',\r\n  Cup = 'cup',\r\n  Can = 'can',\r\n}\r\n\r\nexport const foodUnitI18nKeys: Record<FoodUnit, CalorieCheckerI18nKeys> = {\r\n  [FoodUnit.BowlAlt]: CalorieCheckerI18nKeys.BowlAlt,\r\n  [FoodUnit.Bowl]: CalorieCheckerI18nKeys.Bowl,\r\n  [FoodUnit.Slice]: CalorieCheckerI18nKeys.Slice,\r\n  [FoodUnit.Link]: CalorieCheckerI18nKeys.Link,\r\n  [FoodUnit.Chop]: CalorieCheckerI18nKeys.Chop,\r\n  [FoodUnit.Thigh]: CalorieCheckerI18nKeys.Thigh,\r\n  [FoodUnit.Wing]: CalorieCheckerI18nKeys.Wing,\r\n  [FoodUnit.Duck]: CalorieCheckerI18nKeys.Duck,\r\n  [FoodUnit.Goose]: CalorieCheckerI18nKeys.Goose,\r\n  [FoodUnit.Fillet]: CalorieCheckerI18nKeys.Fillet,\r\n  [FoodUnit.PieceAlt]: CalorieCheckerI18nKeys.PieceAlt,\r\n  [FoodUnit.PieceAlt_2]: CalorieCheckerI18nKeys.PieceAlt_2,\r\n  [FoodUnit.Piece]: CalorieCheckerI18nKeys.Piece,\r\n  [FoodUnit.Large]: CalorieCheckerI18nKeys.Large,\r\n  [FoodUnit.Block]: CalorieCheckerI18nKeys.Block,\r\n  [FoodUnit.Tablespoon]: CalorieCheckerI18nKeys.Tablespoon,\r\n  [FoodUnit.Stalk]: CalorieCheckerI18nKeys.Stalk,\r\n  [FoodUnit.Ear]: CalorieCheckerI18nKeys.Ear,\r\n  [FoodUnit.Mushroom]: CalorieCheckerI18nKeys.Mushroom,\r\n  [FoodUnit.Medium]: CalorieCheckerI18nKeys.Medium,\r\n  [FoodUnit.Plate]: CalorieCheckerI18nKeys.Plate,\r\n  [FoodUnit.Kernel]: CalorieCheckerI18nKeys.Kernel,\r\n  [FoodUnit.Candy]: CalorieCheckerI18nKeys.Candy,\r\n  [FoodUnit.Bar]: CalorieCheckerI18nKeys.Bar,\r\n  [FoodUnit.Scoop]: CalorieCheckerI18nKeys.Scoop,\r\n  [FoodUnit.Ball]: CalorieCheckerI18nKeys.Ball,\r\n  [FoodUnit.Bag]: CalorieCheckerI18nKeys.Bag,\r\n  [FoodUnit.Portion]: CalorieCheckerI18nKeys.Portion,\r\n  [FoodUnit.Cup]: CalorieCheckerI18nKeys.Cup,\r\n  [FoodUnit.Can]: CalorieCheckerI18nKeys.Can,\r\n};\r\n","import i18n, { ResourceLanguage } from 'i18next';\r\nimport { initReactI18next } from 'react-i18next';\r\nimport LanguageDetector from 'i18next-browser-languagedetector';\r\nimport en from 'locales/en.json';\r\nimport zh from 'locales/zh-hk.json';\r\n\r\n// import zhYue from 'locales/zh-yue.json';\r\nimport personalDetailsEn from 'locales/personal-details/en.json';\r\nimport personalDetailsZh from 'locales/personal-details/zh-hk.json';\r\n\r\n// import personalDetailsZhYue from 'locales/personal-details/zh-yue.json';\r\nimport resultSectionHowCalculationWorksEn from 'locales/result-section-how-calculation-works/result-section-how-calculation-works-en.json';\r\nimport resultSectionHowCalculationWorksZh from 'locales/result-section-how-calculation-works/result-section-how-calculation-works-zh-hk.json';\r\n\r\n// import resultSectionHowCalculationWorksZhYue from 'locales/result-section-how-calculation-works/result-section-how-calculation-works-zh-yue.json';\r\nimport resultSectionPlanningDietEn from 'locales/result-section-planning-your-diet/result-section-planning-your-diet-en.json';\r\nimport resultSectionPlanningDietZh from 'locales/result-section-planning-your-diet/result-section-planning-your-diet-zh.json';\r\nimport resultSectionChoosingFoodsEn from 'locales/result-section-choosing-foods/result-section-choosing-foods-en.json';\r\nimport resultSectionChoosingFoodsZh from 'locales/result-section-choosing-foods/result-section-choosing-foods-zh-hk.json';\r\nimport resultSectionHowToLoseWeightEn from 'locales/result-section-how-to-lose-weight/result-section-how-to-lose-weight-en.json';\r\nimport resultSectionHowToLoseWeightZh from 'locales/result-section-how-to-lose-weight/result-section-how-to-lose-weight-zh.json';\r\nimport resultSectionHowToGainWeightEn from 'locales/result-section-how-to-gain-weight/result-section-how-to-gain-weight-en.json';\r\nimport resultSectionHowToGainWeightZh from 'locales/result-section-how-to-gain-weight/result-section-how-to-gain-weight-zh.json';\r\nimport resultSectionHowToEatWellEn from 'locales/result-section-how-to-eat-well/result-section-how-to-eat-well-en.json';\r\nimport resultSectionHowToEatWellZh from 'locales/result-section-how-to-eat-well/result-section-how-to-eat-well-zh.json';\r\nimport calorieCheckerEn from 'locales/calorie-checker/calorie-checker-en.json';\r\nimport calorieCheckerZh from 'locales/calorie-checker/calorie-checker-zh.json';\r\nimport { I18nNamespace, Language, StorageKey } from './models';\r\n\r\nenum Format {\r\n  Lowercase = 'lowercase',\r\n}\r\n\r\nconst allI18nNamespaces = Object.values(I18nNamespace);\r\n\r\nconst resources: Partial<Record<Language, ResourceLanguage>> = {\r\n  [Language.En]: {\r\n    [I18nNamespace.General]: en,\r\n    [I18nNamespace.PersonalDetails]: personalDetailsEn,\r\n    [I18nNamespace.HowCalculationWorks]: resultSectionHowCalculationWorksEn,\r\n    [I18nNamespace.ChoosingFoods]: resultSectionChoosingFoodsEn,\r\n    [I18nNamespace.PlanningDiet]: resultSectionPlanningDietEn,\r\n    [I18nNamespace.ResultSectionHowToLoseWeight]: resultSectionHowToLoseWeightEn,\r\n    [I18nNamespace.ResultSectionHowToGainWeight]: resultSectionHowToGainWeightEn,\r\n    [I18nNamespace.ResultSectionHowToEatWell]: resultSectionHowToEatWellEn,\r\n    [I18nNamespace.CalorieChecker]: calorieCheckerEn,\r\n  },\r\n  [Language.ZhHk]: {\r\n    [I18nNamespace.General]: zh,\r\n    [I18nNamespace.PersonalDetails]: personalDetailsZh,\r\n    [I18nNamespace.HowCalculationWorks]: resultSectionHowCalculationWorksZh,\r\n    [I18nNamespace.ChoosingFoods]: resultSectionChoosingFoodsZh,\r\n    [I18nNamespace.PlanningDiet]: resultSectionPlanningDietZh,\r\n    [I18nNamespace.ResultSectionHowToLoseWeight]: resultSectionHowToLoseWeightZh,\r\n    [I18nNamespace.ResultSectionHowToGainWeight]: resultSectionHowToGainWeightZh,\r\n    [I18nNamespace.ResultSectionHowToEatWell]: resultSectionHowToEatWellZh,\r\n    [I18nNamespace.CalorieChecker]: calorieCheckerZh,\r\n  },\r\n  // [Language.ZhYue]: {\r\n  //   [I18nNamespace.General]: zhYue,\r\n  //   [I18nNamespace.PersonalDetails]: personalDetailsZhYue,\r\n  //   [I18nNamespace.HowCalculationWorks]: resultSectionHowCalculationWorksZhYue,\r\n  // },\r\n};\r\n\r\ni18n\r\n  .use(LanguageDetector)\r\n  .use(initReactI18next)\r\n  .init({\r\n    resources,\r\n    ns: allI18nNamespaces,\r\n    defaultNS: I18nNamespace.General,\r\n    fallbackNS: [I18nNamespace.General],\r\n    detection: {\r\n      order: ['localStorage', 'navigator'],\r\n      lookupLocalStorage: StorageKey.Lang,\r\n    },\r\n    fallbackLng: 'en',\r\n    interpolation: {\r\n      escapeValue: false,\r\n      format: function (value: string, format?: string) {\r\n        switch (format) {\r\n          case Format.Lowercase:\r\n            return value.toLowerCase();\r\n        }\r\n        return value;\r\n      },\r\n    },\r\n  });\r\n","import { FullFormModel, Submission, StorageKey, FormState } from './models';\r\n\r\nexport function setStoreSubmissionFlag(saveSubmission: boolean): void {\r\n  localStorage.setItem(StorageKey.StoreSubmissionFlag, JSON.stringify(saveSubmission));\r\n}\r\n\r\nexport function getStoreSubmissionFlag(): boolean | null {\r\n  const item = localStorage.getItem(StorageKey.StoreSubmissionFlag);\r\n  return !item ? null : JSON.parse(item);\r\n}\r\n\r\nexport function setSubmission(data: FullFormModel, submissionTime: number): void {\r\n  const submission: Submission = { data, submissionTime };\r\n  localStorage.setItem(StorageKey.Submission, JSON.stringify(submission));\r\n}\r\n\r\nexport function getSubmission(): Submission {\r\n  const item = localStorage.getItem(StorageKey.Submission);\r\n  return !item ? null : JSON.parse(item);\r\n}\r\n\r\nexport function clearSubmission(): void {\r\n  localStorage.removeItem(StorageKey.Submission);\r\n}\r\n\r\nexport function setInMemorySubmission(data: FullFormModel, submissionTime: number): void {\r\n  const submission: Submission = { data, submissionTime };\r\n  sessionStorage.setItem(StorageKey.Submission, JSON.stringify(submission));\r\n}\r\n\r\nexport function getInMemorySubmission(): Submission {\r\n  const item = sessionStorage.getItem(StorageKey.Submission);\r\n  return !item ? null : JSON.parse(item);\r\n}\r\n\r\nexport function clearInMemorySubmission(): void {\r\n  sessionStorage.removeItem(StorageKey.Submission);\r\n}\r\n\r\nexport function setInMemoryFormState(value: FullFormModel, updatedAt: number): void {\r\n  const formData: FormState = { formData: value, updatedAt };\r\n  sessionStorage.setItem(StorageKey.FormState, JSON.stringify(formData));\r\n}\r\n\r\nexport function getInMemoryFormState(): FormState {\r\n  const item = sessionStorage.getItem(StorageKey.FormState);\r\n  return !item ? null : JSON.parse(item);\r\n}\r\n\r\nexport function clearInMemoryFormState(): void {\r\n  sessionStorage.removeItem(StorageKey.FormState);\r\n}\r\n","import React, { useEffect, useState } from 'react';\r\nimport { getStoreSubmissionFlag, setStoreSubmissionFlag } from './store';\r\n\r\ninterface SaveSubmissionFlagContextType {\r\n  saveSubmissionFlag: boolean | null;\r\n  setSaveSubmissionFlag: (save: boolean) => void;\r\n}\r\n\r\ninterface SaveSubmissionFlagContextProviderProps {\r\n  children: React.ReactNode;\r\n}\r\n\r\nexport const SaveSubmissionFlagContext = React.createContext<SaveSubmissionFlagContextType>({\r\n  saveSubmissionFlag: null,\r\n  setSaveSubmissionFlag: () => {\r\n    throw Error('not initialized');\r\n  },\r\n});\r\n\r\nexport const SaveSubmissionFlagContextProvider = ({\r\n  children,\r\n}: SaveSubmissionFlagContextProviderProps) => {\r\n  const [saveSubmissionFlag, setSaveSubmissionFlag] = useState(getStoreSubmissionFlag());\r\n\r\n  useEffect(() => {\r\n    if (saveSubmissionFlag === null) {\r\n      return;\r\n    }\r\n    setStoreSubmissionFlag(saveSubmissionFlag);\r\n  }, [saveSubmissionFlag]);\r\n\r\n  return (\r\n    <SaveSubmissionFlagContext.Provider\r\n      value={{\r\n        saveSubmissionFlag,\r\n        setSaveSubmissionFlag,\r\n      }}\r\n    >\r\n      {children}\r\n    </SaveSubmissionFlagContext.Provider>\r\n  );\r\n};\r\n","import React, { createContext, useContext, useEffect, useState } from 'react';\r\nimport { FullFormModel, Submission } from './models';\r\nimport { SaveSubmissionFlagContext } from './saveSubmissionFlagContext';\r\nimport {\r\n  clearInMemorySubmission,\r\n  clearSubmission,\r\n  getInMemorySubmission,\r\n  getSubmission,\r\n  setInMemorySubmission,\r\n  setSubmission as setLocalSubmission,\r\n} from './store';\r\n\r\ninterface SubmissionContextType {\r\n  submission: Submission | null;\r\n  updateSubmission: (formData: FullFormModel, submissionTime: number) => void;\r\n}\r\n\r\nconst submissionContextInitialValue: SubmissionContextType = {\r\n  submission: null,\r\n  updateSubmission: () => {\r\n    throw Error('Not implemented');\r\n  },\r\n};\r\n\r\nexport const SubmissionContext = createContext<SubmissionContextType>(\r\n  submissionContextInitialValue\r\n);\r\n\r\nexport function SubmissionContextProvider({ children }: { children: React.ReactNode }) {\r\n  const { saveSubmissionFlag } = useContext(SaveSubmissionFlagContext);\r\n  const [submission, setSubmission] = useState<Submission>(\r\n    saveSubmissionFlag !== false ? getSubmission() : getInMemorySubmission()\r\n  );\r\n  const updateSubmission = (formData: FullFormModel, submissionTime: number) => {\r\n    setSubmission({ submissionTime, data: formData });\r\n    saveSubmissionFlag !== false\r\n      ? setLocalSubmission(formData, submissionTime)\r\n      : setInMemorySubmission(formData, submissionTime);\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (saveSubmissionFlag === null) {\r\n      return;\r\n    }\r\n    if (saveSubmissionFlag === true) {\r\n      const submission = getInMemorySubmission();\r\n      if (submission) {\r\n        setLocalSubmission(submission.data, submission.submissionTime);\r\n        clearInMemorySubmission();\r\n      }\r\n    }\r\n    if (saveSubmissionFlag === false) {\r\n      const submission = getSubmission();\r\n      if (submission) {\r\n        setInMemorySubmission(submission.data, submission.submissionTime);\r\n        clearSubmission();\r\n      }\r\n    }\r\n  }, [saveSubmissionFlag]);\r\n\r\n  return (\r\n    <SubmissionContext.Provider value={{ submission, updateSubmission }}>\r\n      {children}\r\n    </SubmissionContext.Provider>\r\n  );\r\n}\r\n","import React, { useEffect, useState } from 'react';\r\nimport { emptyFormModel, FormState, FullFormModel } from './models';\r\nimport { getInMemoryFormState, setInMemoryFormState } from './store';\r\n\r\ntype UpdateFormState = (formData: FullFormModel, updatedAt: number) => void;\r\n\r\ninterface FormStateContextType {\r\n  formState: FormState;\r\n  updateFormState: UpdateFormState;\r\n}\r\n\r\nexport const FormStateContext = React.createContext<FormStateContextType>({\r\n  formState: null,\r\n  updateFormState: () => {\r\n    throw Error('not initialized');\r\n  },\r\n});\r\n\r\nconst formStateInitialValue: FormState = { formData: emptyFormModel, updatedAt: null };\r\n\r\nexport const FormStateContextProvider = ({ children }: { children: React.ReactNode }) => {\r\n  const [formState, setFormState] = useState(getInMemoryFormState() || formStateInitialValue);\r\n\r\n  useEffect(() => {\r\n    setInMemoryFormState(formState.formData, formState.updatedAt);\r\n  }, [formState]);\r\n\r\n  return (\r\n    <FormStateContext.Provider\r\n      value={{\r\n        formState,\r\n        updateFormState: (formData, updatedAt) => setFormState({ formData, updatedAt }),\r\n      }}\r\n    >\r\n      {children}\r\n    </FormStateContext.Provider>\r\n  );\r\n};\r\n","var _path;\n\nvar _excluded = [\"title\", \"titleId\"];\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nfunction SvgIconClose(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    className: \"nhsuk-icon nhsuk-icon__close\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    viewBox: \"0 0 24 24\",\n    \"aria-hidden\": \"true\",\n    focusable: \"false\",\n    height: 34,\n    width: 34,\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M13.41 12l5.3-5.29a1 1 0 1 0-1.42-1.42L12 10.59l-5.29-5.3a1 1 0 0 0-1.42 1.42l5.3 5.29-5.3 5.29a1 1 0 0 0 0 1.42 1 1 0 0 0 1.42 0l5.29-5.3 5.29 5.3a1 1 0 0 0 1.42 0 1 1 0 0 0 0-1.42z\"\n  })));\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgIconClose);\nexport default __webpack_public_path__ + \"static/media/icon-close.93a06d46.svg\";\nexport { ForwardRef as ReactComponent };","import React, { useContext } from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport { useTranslation } from 'react-i18next';\r\nimport { RadioChangeEvent, Radio, Switch } from 'antd';\r\nimport { I18nKeys } from 'shared/i18n-keys';\r\nimport { ReactComponent as CloseIcon } from 'assets/icon-close.svg';\r\nimport { allLanguages, Language, RoutePath } from 'shared/models';\r\nimport { SaveSubmissionFlagContext } from 'shared/saveSubmissionFlagContext';\r\n\r\ninterface PageTemplateAppSettingsProps {\r\n  onClose: () => void;\r\n}\r\n\r\nconst languageLabels: Partial<Record<Language, string>> = {\r\n  [Language.En]: 'English',\r\n  [Language.ZhHk]: '',\r\n  // [Language.ZhYue]: '',\r\n};\r\n\r\nexport default function PageTemplateAppSettings({ onClose }: PageTemplateAppSettingsProps) {\r\n  const { t, i18n } = useTranslation();\r\n  const { saveSubmissionFlag, setSaveSubmissionFlag } = useContext(SaveSubmissionFlagContext);\r\n  const handleChangeLanguage = (event: RadioChangeEvent) => {\r\n    const lang = event.target.value;\r\n    i18n.changeLanguage(lang);\r\n  };\r\n\r\n  return (\r\n    <div className=\"app-settings\">\r\n      <div className=\"width-container\">\r\n        <header className=\"app-settings__header\">\r\n          <span>{t(I18nKeys.Settings)}</span>\r\n          <button className=\"app-settings__close-button\" onClick={() => onClose()}>\r\n            <CloseIcon />\r\n          </button>\r\n        </header>\r\n      </div>\r\n      <div className=\"setting\">\r\n        <div className=\"width-container\">\r\n          <div className=\"setting__name\">/Language</div>\r\n          <div className=\"setting__content\">\r\n            <Radio.Group\r\n              value={i18n.resolvedLanguage}\r\n              onChange={handleChangeLanguage}\r\n              className=\"select-language-control\"\r\n            >\r\n              {allLanguages.map((lang) => (\r\n                <Radio key={lang} value={lang} className=\"select-language-control__radio\">\r\n                  {languageLabels[lang]}\r\n                </Radio>\r\n              ))}\r\n            </Radio.Group>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <div className=\"setting\">\r\n        <div className=\"width-container\">\r\n          <div className=\"setting__name\">{t(I18nKeys.SaveSubmissions)}</div>\r\n          <div className=\"setting__content\">\r\n            <Switch\r\n              checked={saveSubmissionFlag !== false}\r\n              onChange={setSaveSubmissionFlag}\r\n              className=\"toggle-keep-submission\"\r\n            />\r\n            <span>\r\n              {t(\r\n                saveSubmissionFlag !== false\r\n                  ? I18nKeys.SaveResultsParagraph\r\n                  : I18nKeys.DoNotSaveResultsParagraph\r\n              )}\r\n            </span>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      <div className=\"width-container\">\r\n        <div className=\"links\">\r\n          <Link to={RoutePath.AboutThisApp} className=\"links__item\">\r\n            {t(I18nKeys.AboutThisApp)}\r\n          </Link>\r\n          <Link to={RoutePath.Disclaimer} className=\"links__item\">\r\n            {t(I18nKeys.Disclaimer)}\r\n          </Link>\r\n        </div>\r\n\r\n        <footer>2021  Sean Zhou</footer>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","import React, { useEffect, useState } from 'react';\r\nimport { useTranslation } from 'react-i18next';\r\nimport { Link, useLocation } from 'react-router-dom';\r\nimport classNames from 'classnames';\r\nimport { I18nKeys } from 'shared/i18n-keys';\r\nimport PageTemplateAppSettings from './PageTemplateAppSettings';\r\nimport { RoutePath } from '../models';\r\n\r\nfunction PageTemplate({ children }: { children: React.ReactNode }) {\r\n  const location = useLocation();\r\n  const { t } = useTranslation();\r\n  const [showSettings, setShowSettings] = useState(false);\r\n  const toggleSettings = () => setShowSettings(!showSettings);\r\n\r\n  useEffect(() => {\r\n    if (showSettings) {\r\n      setShowSettings(false);\r\n    }\r\n  }, [location]);\r\n\r\n  return (\r\n    <div className=\"page\">\r\n      <header className=\"page-header\">\r\n        <div className=\"width-container\">\r\n          <div className=\"page-header__inner\">\r\n            <Link to={RoutePath.Home} className=\"page-header__link\">\r\n              <div className=\"app-logo\">{t(I18nKeys.CalorieCalculator)}</div>\r\n            </Link>\r\n            <button\r\n              className={classNames('toggle-settings-button', showSettings ? 'open' : null)}\r\n              onClick={toggleSettings}\r\n            >\r\n              {t(I18nKeys.Settings)}\r\n            </button>\r\n          </div>\r\n        </div>\r\n        {!showSettings ? null : <PageTemplateAppSettings onClose={() => setShowSettings(false)} />}\r\n      </header>\r\n      <main className=\"page-body\">{children}</main>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default PageTemplate;\r\n","import { useEffect } from 'react';\r\nimport { useLocation } from 'react-router-dom';\r\n\r\nfunction ScrollToTop(): null {\r\n  const { pathname } = useLocation();\r\n\r\n  useEffect(() => {\r\n    window.scrollTo(0, 0);\r\n  }, [pathname]);\r\n\r\n  return null;\r\n}\r\n\r\nexport default ScrollToTop;\r\n","/* eslint-disable @typescript-eslint/no-shadow */\r\nimport * as Yup from 'yup';\r\nimport { ActivityLevel, FullFormModel, Sex, GoalType } from './models';\r\n\r\nconst activityRates: Record<ActivityLevel, number> = {\r\n  [ActivityLevel.Sedentary]: 1.2,\r\n  [ActivityLevel.Light]: 1.375,\r\n  [ActivityLevel.Moderate]: 1.55,\r\n  [ActivityLevel.Active]: 1.725,\r\n  [ActivityLevel.ExtraActive]: 1.9,\r\n};\r\n\r\nconst goalRates: Record<GoalType, number> = {\r\n  [GoalType.Balance]: 1,\r\n  [GoalType.Bulk]: 1.1,\r\n  [GoalType.Cut]: 0.9,\r\n};\r\n\r\nexport const computeBMR: (age: number, sex: Sex, height: number, weight: number) => number = (\r\n  age,\r\n  sex,\r\n  height,\r\n  weight\r\n) => {\r\n  if (!age || !sex || !height) {\r\n    return 0;\r\n  }\r\n  return 10 * weight + 6.25 * height - 5 * age + (sex === 'male' ? 5 : -161);\r\n};\r\n\r\nexport const computeTDEE: (bmr: number, activityLevel: ActivityLevel) => number = (\r\n  bmr,\r\n  activityLevel\r\n) => bmr * activityRates[activityLevel];\r\n\r\nexport const computeTarget: (\r\n  bmr: number,\r\n  activityLevel: ActivityLevel,\r\n  goalType: GoalType\r\n) => number = (bmr, activityLevel, goalType) =>\r\n  bmr * activityRates[activityLevel] * goalRates[goalType];\r\n\r\nexport function isFormValid(values: FullFormModel, schema: Yup.AnySchema): boolean {\r\n  return schema.isValidSync(values);\r\n}\r\n\r\nexport function formatDate(date: number | Date): string {\r\n  return new Intl.DateTimeFormat().format(date);\r\n}\r\n\r\nexport function getLocaleTime(date: number | Date): string {\r\n  return new Intl.DateTimeFormat([], { timeStyle: 'short' }).format(date);\r\n}\r\n\r\nexport function isFraction(string: string): boolean {\r\n  return string.includes('/');\r\n}\r\n","import React, { useContext } from 'react';\r\nimport { Button } from 'antd';\r\nimport { useTranslation } from 'react-i18next';\r\nimport { I18nKeys } from 'shared/i18n-keys';\r\nimport { formatDate, getLocaleTime } from 'shared/utils';\r\nimport { useHistory } from 'react-router';\r\nimport { SaveSubmissionFlagContext } from 'shared/saveSubmissionFlagContext';\r\nimport { SubmissionContext } from 'shared/SubmissionContext';\r\nimport { RoutePath } from 'shared/models';\r\n\r\nexport default function HomeResultNotification() {\r\n  const { t } = useTranslation();\r\n  const history = useHistory();\r\n  const { saveSubmissionFlag } = useContext(SaveSubmissionFlagContext);\r\n  const { submission: latestSubmission } = useContext(SubmissionContext);\r\n\r\n  if (saveSubmissionFlag !== true || !latestSubmission) {\r\n    return null;\r\n  }\r\n\r\n  const { submissionTime } = latestSubmission;\r\n  const isToday = formatDate(Date.now()) === formatDate(submissionTime);\r\n\r\n  return (\r\n    <div className=\"notification\">\r\n      <h3 className=\"notification__header\">{t(I18nKeys.ResultsAvailable)}</h3>\r\n      <p>\r\n        {isToday\r\n          ? t(I18nKeys.YouCompletedFormToday_time, { time: getLocaleTime(submissionTime) })\r\n          : t(I18nKeys.YouCompletedFormOnDate_date, { date: formatDate(submissionTime) })}\r\n      </p>\r\n      <Button type=\"default\" htmlType=\"button\" onClick={() => history.push(RoutePath.Results)}>\r\n        {t(I18nKeys.ViewResults)}\r\n      </Button>\r\n    </div>\r\n  );\r\n}\r\n","import { Button } from 'antd';\r\nimport React from 'react';\r\nimport { useTranslation } from 'react-i18next';\r\nimport { useHistory } from 'react-router';\r\nimport { I18nKeys } from 'shared/i18n-keys';\r\nimport { RoutePath } from 'shared/models';\r\nimport HomeResultNotification from './HomeResultNotification';\r\n\r\nfunction Home() {\r\n  const { t } = useTranslation();\r\n  const history = useHistory();\r\n\r\n  return (\r\n    <div className=\"width-container\">\r\n      <header>\r\n        <h1 className=\"app-title\">{t(I18nKeys.CalorieCalculator)}</h1>\r\n      </header>\r\n      <HomeResultNotification />\r\n      <div className=\"intro\">\r\n        <p className=\"intro__lead\">{t(I18nKeys.HomeFirstParagraph)}</p>\r\n        <p>{t(I18nKeys.HomeSecondParagraph)}</p>\r\n        <p>{t(I18nKeys.HomeThirdParagraph)}</p>\r\n      </div>\r\n      <Button\r\n        size=\"large\"\r\n        type=\"primary\"\r\n        htmlType=\"button\"\r\n        onClick={() => history.push(RoutePath.PersonalDetails)}\r\n        block\r\n      >\r\n        {t(I18nKeys.StartNow)}\r\n      </Button>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Home;\r\n","import React from 'react';\r\nimport { Field as FormikField, FastField } from 'formik';\r\nimport { FormikFieldProps } from './field-props';\r\n\r\nexport const Field: React.FC<FormikFieldProps> = ({ fast, children, ...restProps }) => {\r\n  if (fast) {\r\n    return <FastField {...restProps}>{children}</FastField>;\r\n  }\r\n  return <FormikField {...restProps}>{children}</FormikField>;\r\n};\r\n\r\nexport default Field;\r\n","import React from 'react';\r\nimport { InputNumber as AntInputNumber, InputNumberProps as $InputNumberProps } from 'antd';\r\nimport { FieldProps } from 'formik';\r\nimport { Field } from './field';\r\nimport { FormikFieldProps } from './field-props';\r\n\r\nexport type InputNumberProps = FormikFieldProps & $InputNumberProps;\r\n\r\nexport const InputNumber = ({\r\n  name,\r\n  validate,\r\n  fast,\r\n  onChange: $onChange,\r\n  onBlur: $onBlur,\r\n  ...restProps\r\n}: InputNumberProps) => (\r\n  <Field name={name} validate={validate} fast={fast}>\r\n    {({ field: { value, onBlur }, form: { setFieldValue, setFieldTouched } }: FieldProps) => (\r\n      <AntInputNumber\r\n        name={name}\r\n        value={value}\r\n        onChange={(v) => {\r\n          setFieldValue(name, v);\r\n          $onChange && $onChange(v);\r\n        }}\r\n        onBlur={(event) => {\r\n          setFieldTouched(name, true);\r\n          onBlur(event);\r\n          $onBlur && $onBlur(event);\r\n        }}\r\n        {...restProps}\r\n      />\r\n    )}\r\n  </Field>\r\n);\r\n\r\nexport default InputNumber;\r\n","import React from 'react';\r\nimport { Select as AntSelect, SelectProps as $SelectProps } from 'antd';\r\nimport { FieldProps } from 'formik';\r\nimport { FormikFieldProps } from './field-props';\r\nimport { Field } from './field';\r\n\r\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\r\nexport type SelectProps<T = any> = FormikFieldProps & $SelectProps<T>;\r\n\r\nexport const Select = ({\r\n  name,\r\n  validate,\r\n  fast,\r\n  children,\r\n  onChange: $onChange,\r\n  onBlur: $onBlur,\r\n  ...restProps\r\n}: SelectProps) => (\r\n  <Field name={name} validate={validate} fast={fast}>\r\n    {({ field: { value }, form: { setFieldValue, setFieldTouched } }: FieldProps) => (\r\n      <AntSelect\r\n        onChange={(v, option) => {\r\n          setFieldValue(name, v, true);\r\n          $onChange && $onChange(v, option);\r\n        }}\r\n        onBlur={(event) => {\r\n          setFieldTouched(name, true);\r\n          $onBlur && $onBlur(event);\r\n        }}\r\n        value={!value ? undefined : value}\r\n        {...restProps}\r\n      >\r\n        {children}\r\n      </AntSelect>\r\n    )}\r\n  </Field>\r\n);\r\n\r\nSelect.Option = AntSelect.Option;\r\nSelect.OptGroup = AntSelect.OptGroup;\r\n\r\nexport default Select;\r\n","import React from 'react';\r\nimport {\r\n  Radio as AntRadio,\r\n  RadioProps as $RadioProps,\r\n  RadioGroupProps as $RadioGroupProps,\r\n} from 'antd';\r\nimport { FieldProps } from 'formik';\r\nimport { FormikFieldProps } from './field-props';\r\nimport { Field } from './field';\r\n\r\nexport type RadioProps = FormikFieldProps & $RadioProps;\r\nexport type RadioGroupProps = FormikFieldProps & $RadioGroupProps;\r\n\r\nexport const Radio = ({\r\n  name,\r\n  validate,\r\n  fast,\r\n  // className,\r\n  onChange: $onChange,\r\n  ...restProps\r\n}: RadioProps) => (\r\n  <Field name={name} validate={validate} fast={fast}>\r\n    {({ field: { value }, form: { setFieldValue, setFieldTouched } }: FieldProps) => (\r\n      <AntRadio\r\n        name={name}\r\n        value={value}\r\n        onChange={(event) => {\r\n          setFieldValue(name, event.target.value);\r\n          setFieldTouched(name, true);\r\n          $onChange && $onChange(event);\r\n        }}\r\n        {...restProps}\r\n      />\r\n    )}\r\n  </Field>\r\n);\r\n\r\nconst RadioGroup = ({\r\n  name,\r\n  validate,\r\n  fast,\r\n  onChange: $onChange,\r\n  ...restProps\r\n}: RadioGroupProps) => (\r\n  <Field name={name} validate={validate} fast={fast}>\r\n    {({ field: { value }, form: { setFieldValue, setFieldTouched } }: FieldProps) => (\r\n      <AntRadio.Group\r\n        value={value}\r\n        onChange={(event) => {\r\n          setFieldValue(name, event.target.value, true);\r\n          setFieldTouched(name, true, false);\r\n          $onChange && $onChange(event);\r\n        }}\r\n        {...restProps}\r\n      />\r\n    )}\r\n  </Field>\r\n);\r\n\r\nRadio.Group = RadioGroup;\r\nRadio.Button = AntRadio.Button;\r\n\r\nexport default Radio;\r\n","import React from 'react';\r\nimport { Collapse } from 'antd';\r\nimport { CaretRightFilled } from '@ant-design/icons';\r\n\r\ninterface BaseExpanderProps {\r\n  title: string;\r\n  children: React.ReactNode;\r\n}\r\n\r\nconst { Panel } = Collapse;\r\n\r\nfunction BaseExpander({ title, children }: BaseExpanderProps) {\r\n  return (\r\n    <div className=\"expander\">\r\n      <Collapse ghost className=\"expander\" collapsible=\"header\">\r\n        <Panel\r\n          key=\"default\"\r\n          header={\r\n            <span className=\"expander__header\">\r\n              <CaretRightFilled className=\"expander__arrow\" />\r\n              <span>{title}</span>\r\n            </span>\r\n          }\r\n          showArrow={false}\r\n          className=\"expander__panel\"\r\n        >\r\n          <div className=\"expander__content\">{children}</div>\r\n        </Panel>\r\n      </Collapse>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default BaseExpander;\r\n","import React from 'react';\r\nimport { useTranslation } from 'react-i18next';\r\nimport { I18nNamespace } from 'shared/models';\r\nimport { PersonalDetailsI18nKeys as I18nKeys } from 'shared/i18n-keys';\r\n\r\nexport default function PersonalDetailsRationale() {\r\n  const { t } = useTranslation(I18nNamespace.PersonalDetails);\r\n  return (\r\n    <>\r\n      <p>{t(I18nKeys.RationaleFirstParagraph)}</p>\r\n      <p>{t(I18nKeys.RationaleSecondParagraph)}</p>\r\n      <p>{t(I18nKeys.RationaleThirdParagraph)}</p>\r\n      <ul>\r\n        <li>{t(I18nKeys.FactorFirstParagraph)}</li>\r\n        <li>{t(I18nKeys.FactorSecondParagraph)}</li>\r\n        <li>{t(I18nKeys.FactorThirdParagraph)}</li>\r\n      </ul>\r\n    </>\r\n  );\r\n}\r\n","import React, { useContext } from 'react';\r\nimport { Button } from 'antd';\r\nimport { Formik, Form, FormikConfig, ErrorMessage } from 'formik';\r\nimport classnames from 'classnames';\r\nimport { useHistory } from 'react-router-dom';\r\nimport { useTranslation } from 'react-i18next';\r\nimport { InputNumber, Radio } from 'shared/formik-antd';\r\nimport {\r\n  FullFormModel,\r\n  sexI18nKeys,\r\n  PersonalInfoFormField as FormField,\r\n  PersonalInfoFormModel as FormModel,\r\n  PersonalInfoFormSchema,\r\n  RoutePath,\r\n  I18nNamespace,\r\n} from 'shared/models';\r\nimport { FormStateContext } from 'shared/FormStateContext';\r\nimport { I18nKeys as CommonI18nKeys, PersonalDetailsI18nKeys as I18nKeys } from 'shared/i18n-keys';\r\nimport BaseExpander from 'shared/BaseExpander';\r\nimport PersonalDetailsRationale from './PersonalDetailsRationale';\r\n\r\nconst getPersonalInfo: (value: FullFormModel) => FormModel = (value) => {\r\n  const { age, sex, height, weight } = value;\r\n  return {\r\n    age,\r\n    sex,\r\n    height,\r\n    weight,\r\n  };\r\n};\r\n\r\nexport default function PersonalDetailsForm() {\r\n  const { t, i18n } = useTranslation(I18nNamespace.PersonalDetails);\r\n  const {\r\n    formState: { formData },\r\n    updateFormState,\r\n  } = useContext(FormStateContext);\r\n  const initialValues: FormModel = getPersonalInfo(formData);\r\n\r\n  const history = useHistory();\r\n\r\n  const handleSubmit: FormikConfig<FormModel>['onSubmit'] = (values, { setSubmitting }) => {\r\n    const dirty = Object.values(FormField).some((key) => initialValues[key] !== values[key]);\r\n    if (dirty) {\r\n      updateFormState({ ...formData, ...values }, Date.now());\r\n    }\r\n    setSubmitting(false);\r\n    history.push(RoutePath.ActivityLevel);\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <Formik<FormModel>\r\n        initialValues={initialValues}\r\n        onSubmit={handleSubmit}\r\n        validationSchema={PersonalInfoFormSchema}\r\n        validateOnBlur\r\n        validateOnChange\r\n      >\r\n        {({ errors, touched, isSubmitting }) => (\r\n          <Form name=\"personal-info\" className=\"personal-info-form\">\r\n            <header>\r\n              <h1>{t(I18nKeys.PageTitle)}</h1>\r\n            </header>\r\n            <p>{t(I18nKeys.EnterAgeSexHeightWeight)}</p>\r\n            <div className=\"hint\">\r\n              <BaseExpander title={t(I18nKeys.WhyDoWeNeedThem)}>\r\n                <PersonalDetailsRationale />\r\n              </BaseExpander>\r\n            </div>\r\n            <div className=\"form-item\">\r\n              <div\r\n                className={classnames(\r\n                  'input-wrapper',\r\n                  errors.age && touched.age ? 'input-wrapper--error' : null\r\n                )}\r\n              >\r\n                <label htmlFor=\"input_age\" className=\"label\">\r\n                  {t(CommonI18nKeys.Age)}\r\n                </label>\r\n                <div>\r\n                  <InputNumber\r\n                    name={FormField.Age}\r\n                    inputMode=\"numeric\"\r\n                    pattern=\"[0-9]*\"\r\n                    size=\"large\"\r\n                    id=\"input_age\"\r\n                    className=\"control\"\r\n                  />\r\n                </div>\r\n\r\n                <ErrorMessage key={i18n.resolvedLanguage} name={FormField.Age}>\r\n                  {(key) => (\r\n                    <span className=\"error-message\">\r\n                      {t(key, { field: t(CommonI18nKeys.Age), max: 120, min: 18 })}\r\n                    </span>\r\n                  )}\r\n                </ErrorMessage>\r\n              </div>\r\n            </div>\r\n\r\n            <div className=\"form-item\">\r\n              <div\r\n                className={classnames(\r\n                  'input-wrapper',\r\n                  errors.sex && touched.sex ? 'input-wrapper--error' : null\r\n                )}\r\n              >\r\n                <span className=\"label\">{t(CommonI18nKeys.Sex)}</span>\r\n                <Radio.Group name={FormField.Sex} size=\"large\" className=\"control radio-group\">\r\n                  <Radio name={FormField.Sex} value=\"male\" className=\"radio-button\">\r\n                    {t(sexI18nKeys['male'])}\r\n                  </Radio>\r\n                  <Radio name={FormField.Sex} value=\"female\" className=\"radio-button\">\r\n                    {t(sexI18nKeys['female'])}\r\n                  </Radio>\r\n                </Radio.Group>\r\n                <ErrorMessage key={i18n.resolvedLanguage} name={FormField.Sex}>\r\n                  {(key) => (\r\n                    <span className=\"error-message\">\r\n                      {t(key, { field: t(CommonI18nKeys.Sex) })}\r\n                    </span>\r\n                  )}\r\n                </ErrorMessage>\r\n              </div>\r\n            </div>\r\n\r\n            <div className=\"form-item\">\r\n              <div\r\n                className={classnames(\r\n                  'input-wrapper',\r\n                  errors.height && touched.height ? 'input-wrapper--error' : null\r\n                )}\r\n              >\r\n                <label htmlFor=\"input_height\" className=\"label\">\r\n                  {t(CommonI18nKeys.Height)}\r\n                </label>\r\n                <div>\r\n                  <InputNumber\r\n                    name={FormField.Height}\r\n                    inputMode=\"decimal\"\r\n                    pattern=\"[0-9]+([\\.][0-9]+)?\"\r\n                    id=\"input_height\"\r\n                    className=\"control control--height\"\r\n                    size=\"large\"\r\n                  />\r\n                  <span className=\"suffix\">\r\n                    <span>cm</span>\r\n                  </span>\r\n                </div>\r\n\r\n                <ErrorMessage key={i18n.resolvedLanguage} name={FormField.Height}>\r\n                  {(key) => (\r\n                    <span className=\"error-message\">\r\n                      {t(key, { field: t(CommonI18nKeys.Height), max: '272 cm', min: '100 cm' })}\r\n                    </span>\r\n                  )}\r\n                </ErrorMessage>\r\n              </div>\r\n            </div>\r\n\r\n            <div className=\"form-item\">\r\n              <div\r\n                className={classnames(\r\n                  'input-wrapper',\r\n                  errors.weight && touched.weight ? 'input-wrapper--error' : null\r\n                )}\r\n              >\r\n                <label htmlFor=\"input_weight\" className=\"label\">\r\n                  {t(CommonI18nKeys.Weight)}\r\n                </label>\r\n                <div>\r\n                  <InputNumber\r\n                    name={FormField.Weight}\r\n                    inputMode=\"decimal\"\r\n                    pattern=\"[0-9]+([\\.][0-9]+)?\"\r\n                    id=\"input_weight\"\r\n                    className=\"control\"\r\n                    size=\"large\"\r\n                  />\r\n                  <span className=\"suffix\">\r\n                    <span>kg</span>\r\n                  </span>\r\n                </div>\r\n\r\n                <ErrorMessage key={i18n.resolvedLanguage} name={FormField.Weight}>\r\n                  {(key) => (\r\n                    <span className=\"error-message\">\r\n                      {t(key, { field: t(CommonI18nKeys.Weight), max: '130 kg', min: '30 kg' })}\r\n                    </span>\r\n                  )}\r\n                </ErrorMessage>\r\n              </div>\r\n            </div>\r\n\r\n            <Button\r\n              type=\"primary\"\r\n              htmlType=\"submit\"\r\n              size=\"large\"\r\n              disabled={isSubmitting}\r\n              className=\"submit-button\"\r\n            >\r\n              {t(CommonI18nKeys.Continue)}\r\n            </Button>\r\n          </Form>\r\n        )}\r\n      </Formik>\r\n    </div>\r\n  );\r\n}\r\n","import React from 'react';\r\nimport { LeftOutlined } from '@ant-design/icons';\r\nimport { useHistory } from 'react-router-dom';\r\nimport { useTranslation } from 'react-i18next';\r\nimport { I18nKeys } from 'shared/i18n-keys';\r\n\r\ninterface BaseGoBackButtonProps {\r\n  to: string;\r\n  titleOverride?: string;\r\n}\r\n\r\nfunction BaseGoBackButton({ to, titleOverride }: BaseGoBackButtonProps) {\r\n  const { t } = useTranslation();\r\n  const history = useHistory();\r\n  return (\r\n    <button onClick={() => history.push(to)} className=\"go-back-button\">\r\n      <LeftOutlined className=\"icon\" />\r\n      <span>{titleOverride || t(I18nKeys.PreviousPage)}</span>\r\n    </button>\r\n  );\r\n}\r\n\r\nexport default BaseGoBackButton;\r\n","import React from 'react';\r\nimport PersonalDetailsForm from './PersonalDetailsForm';\r\nimport { RoutePath } from 'shared/models';\r\nimport BaseGoBackButton from 'shared/BaseGoBackButton';\r\n\r\nfunction PersonalDetails() {\r\n  return (\r\n    <div className=\"width-container\">\r\n      <BaseGoBackButton to={RoutePath.Home} />\r\n\r\n      <PersonalDetailsForm />\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default PersonalDetails;\r\n","import React, { useContext } from 'react';\r\nimport { Space, Button } from 'antd';\r\nimport { Formik, Form, FormikConfig, ErrorMessage } from 'formik';\r\nimport classnames from 'classnames';\r\nimport { useHistory } from 'react-router-dom';\r\nimport { Radio } from 'shared/formik-antd';\r\nimport {\r\n  ActivityFormModel as FormModel,\r\n  ActivityFormField as FormField,\r\n  activityLabelI18nKeys,\r\n  ActivityLevel,\r\n  ActivityFormSchema,\r\n  FullFormModel,\r\n  RoutePath,\r\n} from 'shared/models';\r\nimport { FormStateContext } from 'shared/FormStateContext';\r\nimport { I18nKeys } from 'shared/i18n-keys';\r\nimport { useTranslation } from 'react-i18next';\r\nimport BaseExpander from 'shared/BaseExpander';\r\n\r\nconst getActivityFormData: (values: FullFormModel) => FormModel = (values) => {\r\n  return { activityLevel: values.activityLevel };\r\n};\r\n\r\nconst exampleActivityI18nKeys: I18nKeys[] = [\r\n  I18nKeys.Jogging,\r\n  I18nKeys.Swimming,\r\n  I18nKeys.Tennis,\r\n  I18nKeys.Dancing,\r\n];\r\n\r\nconst allActivityLevels = Object.values(ActivityLevel);\r\n\r\nexport default function ActivityLevelForm() {\r\n  const { t, i18n } = useTranslation();\r\n  const {\r\n    formState: { formData },\r\n    updateFormState,\r\n  } = useContext(FormStateContext);\r\n  const history = useHistory();\r\n  const initialValue: FormModel = getActivityFormData(formData);\r\n  const activityOptions = allActivityLevels.map((type) => (\r\n    <Radio name={FormField.Level} key={type} value={type}>\r\n      {t(activityLabelI18nKeys[type])}\r\n    </Radio>\r\n  ));\r\n\r\n  const handleSubmit: FormikConfig<FormModel>['onSubmit'] = (values, { setSubmitting }) => {\r\n    const dirty = Object.values(FormField).some((key) => values[key] !== initialValue[key]);\r\n    if (dirty) {\r\n      updateFormState({ ...formData, ...values }, Date.now());\r\n    }\r\n    setSubmitting(false);\r\n    history.push(RoutePath.FitnessGoal);\r\n  };\r\n\r\n  return (\r\n    <Formik\r\n      initialValues={initialValue}\r\n      onSubmit={handleSubmit}\r\n      validationSchema={ActivityFormSchema}\r\n      validateOnBlur\r\n      validateOnChange\r\n    >\r\n      {({ errors, touched, isSubmitting }) => (\r\n        <Form name=\"activity-level\" className=\"activity-form\">\r\n          <header>\r\n            <h1>{t(I18nKeys.ActivityPageTitle)}</h1>\r\n          </header>\r\n\r\n          <div className=\"hint\">\r\n            <BaseExpander title={t(I18nKeys.WhatCounts)}>\r\n              <>\r\n                <p>{t(I18nKeys.CountFirstParagraph)}</p>\r\n                <ul>\r\n                  {exampleActivityI18nKeys.map((key) => (\r\n                    <li key={key}>{t(I18nKeys[key]).toLowerCase()}</li>\r\n                  ))}\r\n                </ul>\r\n                <p>{t(I18nKeys.CountSecondParagraph)}</p>\r\n              </>\r\n            </BaseExpander>\r\n          </div>\r\n\r\n          <div\r\n            className={classnames(\r\n              'input-wrapper',\r\n              errors.activityLevel && touched.activityLevel ? 'input-wrapper--error' : null\r\n            )}\r\n          >\r\n            <ErrorMessage key={i18n.resolvedLanguage} name={FormField.Level}>\r\n              {(key) => <span className=\"error-message\">{t(key)}</span>}\r\n            </ErrorMessage>\r\n            <Radio.Group name={FormField.Level} size=\"large\" className=\"control\">\r\n              <Space direction=\"vertical\" size={12}>\r\n                {activityOptions}\r\n              </Space>\r\n            </Radio.Group>\r\n          </div>\r\n\r\n          <Button\r\n            type=\"primary\"\r\n            htmlType=\"submit\"\r\n            size=\"large\"\r\n            disabled={isSubmitting}\r\n            className=\"submit-button\"\r\n          >\r\n            {t(I18nKeys.Continue)}\r\n          </Button>\r\n        </Form>\r\n      )}\r\n    </Formik>\r\n  );\r\n}\r\n","import React, { useContext } from 'react';\r\nimport { Redirect, useLocation } from 'react-router-dom';\r\nimport ActivityLevelForm from './ActivityLevelForm';\r\nimport { FormStateContext } from 'shared/FormStateContext';\r\nimport { isFormValid } from 'shared/utils';\r\nimport { PersonalInfoFormSchema, RoutePath } from 'shared/models';\r\nimport BaseGoBackButton from 'shared/BaseGoBackButton';\r\n\r\nexport default function ActivityLevel() {\r\n  const {\r\n    formState: { formData },\r\n  } = useContext(FormStateContext);\r\n  const location = useLocation();\r\n\r\n  const isPrevFormValid = isFormValid(formData, PersonalInfoFormSchema);\r\n\r\n  return isPrevFormValid ? (\r\n    <div className=\"width-container\">\r\n      <BaseGoBackButton to={RoutePath.PersonalDetails} />\r\n\r\n      <ActivityLevelForm />\r\n    </div>\r\n  ) : (\r\n    <Redirect\r\n      to={{\r\n        pathname: RoutePath.PersonalDetails,\r\n        state: { from: location },\r\n      }}\r\n    />\r\n  );\r\n}\r\n","import { Button, Space } from 'antd';\r\nimport React, { useContext } from 'react';\r\nimport { Formik, Form, FormikConfig, ErrorMessage } from 'formik';\r\nimport classnames from 'classnames';\r\nimport { useHistory } from 'react-router-dom';\r\nimport { Radio } from 'shared/formik-antd';\r\nimport {\r\n  GoalFormModel as FormModel,\r\n  GoalFormField as FormField,\r\n  goalLabelI18nKeys,\r\n  GoalType,\r\n  GoalFormSchema,\r\n  FullFormModel,\r\n  RoutePath,\r\n} from 'shared/models';\r\n\r\nimport { FormStateContext } from 'shared/FormStateContext';\r\nimport { useTranslation } from 'react-i18next';\r\nimport { I18nKeys } from 'shared/i18n-keys';\r\nimport { SubmissionContext } from 'shared/SubmissionContext';\r\nimport BaseExpander from 'shared/BaseExpander';\r\n\r\nconst allGoals = Object.values(GoalType);\r\n\r\nconst getGoalFormData: (values: FullFormModel) => FormModel = (values) => {\r\n  return { goal: values.goal };\r\n};\r\n\r\nexport default function FitnessGoalForm() {\r\n  const { t, i18n } = useTranslation();\r\n  const {\r\n    formState: { formData },\r\n    updateFormState,\r\n  } = useContext(FormStateContext);\r\n  const { updateSubmission } = useContext(SubmissionContext);\r\n  const history = useHistory();\r\n  const initialValue: FormModel = getGoalFormData(formData);\r\n\r\n  const goalOptions = allGoals.map((goal) => (\r\n    <Radio name={FormField.Goal} key={goal} value={goal}>\r\n      {t(I18nKeys.ToAchieveGoal_goal, { goal: t(goalLabelI18nKeys[goal]).toLowerCase() })}\r\n    </Radio>\r\n  ));\r\n\r\n  const handleSubmit: FormikConfig<FormModel>['onSubmit'] = (values, { setSubmitting }) => {\r\n    const submissionTime = Date.now();\r\n    const updatedFormData = { ...formData, ...values };\r\n    if (values[FormField.Goal] !== initialValue[FormField.Goal]) {\r\n      updateFormState(updatedFormData, submissionTime);\r\n    }\r\n    updateSubmission(updatedFormData, submissionTime);\r\n    setSubmitting(false);\r\n    history.push(RoutePath.Results);\r\n  };\r\n\r\n  return (\r\n    <Formik\r\n      initialValues={initialValue}\r\n      validationSchema={GoalFormSchema}\r\n      onSubmit={handleSubmit}\r\n      validateOnBlur\r\n      validateOnChange\r\n    >\r\n      {({ errors, touched, isSubmitting }) => (\r\n        <Form name=\"goal\" className=\"goal-form\">\r\n          <header>\r\n            <h1>{t(I18nKeys.GoalPageTitle)}</h1>\r\n          </header>\r\n\r\n          <div className=\"hint\">\r\n            <BaseExpander title={t(I18nKeys.WhyAreWeAsking)}>\r\n              <>\r\n                <p>{t(I18nKeys.GoalPageFirstParagraph)}</p>\r\n                <p>{t(I18nKeys.GoalPageSecondParagraph)}</p>\r\n                <p>{t(I18nKeys.GoalPageThirdParagraph)}</p>\r\n              </>\r\n            </BaseExpander>\r\n          </div>\r\n\r\n          <div\r\n            className={classnames(\r\n              'input-wrapper',\r\n              'element',\r\n              errors.goal && touched.goal && 'input-wrapper--error'\r\n            )}\r\n          >\r\n            <ErrorMessage key={i18n.resolvedLanguage} name={FormField.Goal}>\r\n              {(key) => (\r\n                <span className=\"error-message\">{t(key, { field: t(I18nKeys.Goal) })}</span>\r\n              )}\r\n            </ErrorMessage>\r\n            <Radio.Group name={FormField.Goal} size=\"large\" className=\"element control\">\r\n              <Space direction=\"vertical\" size={12}>\r\n                {goalOptions}\r\n              </Space>\r\n            </Radio.Group>\r\n          </div>\r\n\r\n          <Button\r\n            type=\"primary\"\r\n            htmlType=\"submit\"\r\n            size=\"large\"\r\n            disabled={isSubmitting}\r\n            className=\"submit-button\"\r\n          >\r\n            {t(I18nKeys.SeeResults)}\r\n          </Button>\r\n        </Form>\r\n      )}\r\n    </Formik>\r\n  );\r\n}\r\n","var _path, _path2;\n\nvar _excluded = [\"title\", \"titleId\"];\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nfunction SvgIconArrowRightCircle(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    className: \"nhsuk-icon nhsuk-icon__arrow-right-circle\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    viewBox: \"0 0 24 24\",\n    \"aria-hidden\": \"true\",\n    height: 34,\n    width: 34,\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M0 0h24v24H0z\",\n    fill: \"none\"\n  })), _path2 || (_path2 = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M12 2a10 10 0 0 0-9.95 9h11.64L9.74 7.05a1 1 0 0 1 1.41-1.41l5.66 5.65a1 1 0 0 1 0 1.42l-5.66 5.65a1 1 0 0 1-1.41 0 1 1 0 0 1 0-1.41L13.69 13H2.05A10 10 0 1 0 12 2z\"\n  })));\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgIconArrowRightCircle);\nexport default __webpack_public_path__ + \"static/media/icon-arrow-right-circle.e7b6f0ab.svg\";\nexport { ForwardRef as ReactComponent };","import React, { useContext } from 'react';\r\nimport { Redirect, useLocation } from 'react-router-dom';\r\nimport FitnessGoalForm from './FitnessGoalForm';\r\nimport { FormStateContext } from 'shared/FormStateContext';\r\nimport { isFormValid } from 'shared/utils';\r\nimport { ActivityFormSchema, RoutePath } from 'shared/models';\r\nimport BaseGoBackButton from 'shared/BaseGoBackButton';\r\n\r\nexport default function FitnessGoal() {\r\n  const {\r\n    formState: { formData },\r\n  } = useContext(FormStateContext);\r\n  const location = useLocation();\r\n  const isPrevFormValid = isFormValid(formData, ActivityFormSchema);\r\n\r\n  return isPrevFormValid ? (\r\n    <div className=\"width-container\">\r\n      <BaseGoBackButton to={RoutePath.ActivityLevel} />\r\n\r\n      <FitnessGoalForm />\r\n    </div>\r\n  ) : (\r\n    <Redirect\r\n      to={{\r\n        pathname: RoutePath.ActivityLevel,\r\n        state: { from: location },\r\n      }}\r\n    />\r\n  );\r\n}\r\n","import React from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport { ReactComponent as ArrowRightCircle } from 'assets/icon-arrow-right-circle.svg';\r\n\r\ninterface BaseActionLinkProps {\r\n  to: string;\r\n  title: string;\r\n}\r\n\r\nexport default function BaseActionLink({ to, title }: BaseActionLinkProps) {\r\n  return (\r\n    <Link to={to} className=\"action-link\">\r\n      <ArrowRightCircle className=\"action-link__icon\" />\r\n      <span>{title}</span>\r\n    </Link>\r\n  );\r\n}\r\n","import React from 'react';\r\nimport { useTranslation } from 'react-i18next';\r\nimport { ResultSectionChoosingFoodsI18nKeys as I18nKeys } from 'shared/i18n-keys';\r\nimport BaseActionLink from 'shared/BaseActionLink';\r\nimport { I18nNamespace, RoutePath } from 'shared/models';\r\n\r\nexport default function ResultSectionChoosingFood() {\r\n  const { t } = useTranslation([I18nNamespace.ChoosingFoods]);\r\n\r\n  return (\r\n    <section className=\"page-section\">\r\n      <header>{t(I18nKeys.Title)}</header>\r\n      <p>{t(I18nKeys.FirstParagraph)}</p>\r\n      <p>{t(I18nKeys.SecondParagraph)}</p>\r\n      <p>{t(I18nKeys.FourthParagraph)}</p>\r\n      <div className=\"action\">\r\n        <BaseActionLink to={RoutePath.CalorieChecker} title={t(I18nKeys.OpenFoodCalorieChecker)} />\r\n      </div>\r\n    </section>\r\n  );\r\n}\r\n","import React from 'react';\r\nimport { SummaryListProps } from './models';\r\n\r\nexport default function BaseSummaryList({ data }: SummaryListProps) {\r\n  const rows = data.map(({ key, value, action }, index) => (\r\n    <div key={index} className=\"summary-list__row\">\r\n      <dt className=\"summary-list__key\">{key}</dt>\r\n      <dd className=\"summary-list__value\">{value}</dd>\r\n      {!action ? null : (\r\n        <dd className=\"summary-list__action\">\r\n          <button onClick={action.callback} className=\"summary-list__button\">\r\n            <span>{action.name}</span>\r\n          </button>\r\n        </dd>\r\n      )}\r\n    </div>\r\n  ));\r\n  return <dl className=\"summary-list\">{rows}</dl>;\r\n}\r\n","import React from 'react';\r\nimport { useTranslation } from 'react-i18next';\r\nimport { useHistory } from 'react-router';\r\nimport { I18nKeys } from 'shared/i18n-keys';\r\nimport {\r\n  activityLabelI18nKeys,\r\n  goalLabelI18nKeys,\r\n  PersonInfo,\r\n  RoutePath,\r\n  sexI18nKeys,\r\n  SummaryListRow,\r\n} from 'shared/models';\r\nimport BaseSummaryList from 'shared/BaseSummaryList';\r\n\r\ninterface ResultSectionYourAnswersProps {\r\n  personInfo: PersonInfo;\r\n}\r\n\r\nexport default function ResultSectionYourAnswers({\r\n  personInfo: { age, sex, height, weight, activityLevel, goal },\r\n}: ResultSectionYourAnswersProps) {\r\n  const { t } = useTranslation();\r\n  const history = useHistory();\r\n\r\n  const summaryListData: SummaryListRow[] = [\r\n    {\r\n      key: `1. ${t(I18nKeys.PersonalDetails)}`,\r\n      value: (\r\n        <ul className=\"personal-info-list\">\r\n          <li>\r\n            {t(I18nKeys.Age)}: {age}\r\n          </li>\r\n          <li>\r\n            {t(I18nKeys.Sex)}: {t(sexI18nKeys[sex]).toLowerCase()}\r\n          </li>\r\n          <li>\r\n            {t(I18nKeys.Height)}: {height}cm\r\n          </li>\r\n          <li>\r\n            {t(I18nKeys.Weight)}: {weight}kg\r\n          </li>\r\n        </ul>\r\n      ),\r\n      // action: {\r\n      //   name: t(I18nKeys.Change),\r\n      //   callback: () => history.push(RoutePath.PersonalDetails),\r\n      // },\r\n    },\r\n    {\r\n      key: `2. ${t(I18nKeys.ActivityPageTitle)}`,\r\n      value: t(activityLabelI18nKeys[activityLevel]),\r\n      // action: {\r\n      //   name: t(I18nKeys.Change),\r\n      //   callback: () => history.push(RoutePath.ActivityLevel),\r\n      // },\r\n    },\r\n    {\r\n      key: `3. ${t(I18nKeys.GoalPageTitle)}`,\r\n      value: t(I18nKeys.ToAchieveGoal_goal, { goal: t(goalLabelI18nKeys[goal]) }),\r\n      // action: {\r\n      //   name: t(I18nKeys.Change),\r\n      //   callback: () => history.push(RoutePath.FitnessGoal),\r\n      // },\r\n    },\r\n  ];\r\n\r\n  return (\r\n    <section className=\"page-section\">\r\n      <header>{t(I18nKeys.AnswersTitle)}</header>\r\n      <button\r\n        onClick={() => {\r\n          history.push(RoutePath.Home);\r\n        }}\r\n        className=\"start-again-button\"\r\n      >\r\n        <span>{t(I18nKeys.StartAgain)}</span>\r\n      </button>\r\n      <BaseSummaryList data={summaryListData} />\r\n    </section>\r\n  );\r\n}\r\n","import React from 'react';\r\nimport { useTranslation, Trans } from 'react-i18next';\r\nimport { Link } from 'react-router-dom';\r\nimport { HowCalculationWorksI18nKeys as I18nKeys } from 'shared/i18n-keys';\r\nimport { I18nNamespace, RoutePath } from 'shared/models';\r\n\r\nexport default function ResultSectionHowCalculationWorks() {\r\n  const { t } = useTranslation([I18nNamespace.HowCalculationWorks]);\r\n  return (\r\n    <section className=\"page-section\">\r\n      <header>{t(I18nKeys.Title)}</header>\r\n      <p>{t(I18nKeys.IntroActiveVoice)}</p>\r\n      <ul>\r\n        <li>{t(I18nKeys.CalculateBMR)}</li>\r\n        <li>{t(I18nKeys.CalculateTDEE)}</li>\r\n        <li>{t(I18nKeys.CaterToFitnessGoal)}</li>\r\n      </ul>\r\n      <p></p>\r\n      <p>\r\n        <Trans\r\n          t={t}\r\n          i18nKey={I18nKeys.LearnMoreAboutHowCalculationWorks_Link}\r\n          components={{ Link: <Link to={RoutePath.HowCalculationWorks} /> }}\r\n        />\r\n      </p>\r\n    </section>\r\n  );\r\n}\r\n","import React from 'react';\r\nimport { useTranslation } from 'react-i18next';\r\nimport { ResultSectionPlanningDietI18nKeys as I18nKeys } from 'shared/i18n-keys';\r\nimport { I18nNamespace, mealLabelI18nKeys, mealPortions, MealType } from 'shared/models';\r\n\r\ninterface ResultSectionDietPlanProps {\r\n  target: number;\r\n}\r\n\r\nexport default function ResultSectionDietPlan({ target }: ResultSectionDietPlanProps) {\r\n  const { t } = useTranslation([I18nNamespace.PlanningDiet]);\r\n  const listItems = Object.values(MealType).map((mealType) => (\r\n    <li key={mealType}>\r\n      {t(I18nKeys.mealCaloriesAndPercent_meal_calorie_percent, {\r\n        meal: t(mealLabelI18nKeys[mealType]).toLowerCase(),\r\n        calorie: Math.round(target * mealPortions[mealType]),\r\n        percent: Math.round(100 * mealPortions[mealType]),\r\n      })}\r\n    </li>\r\n  ));\r\n  return (\r\n    <section className=\"page-section\">\r\n      <p>{t(I18nKeys.FirstParagraph)}</p>\r\n      <p>{t(I18nKeys.SecondParagraph)}</p>\r\n      <ul>{listItems}</ul>\r\n      <p>{t(I18nKeys.ThirdParagraph)}</p>\r\n      <p>{t(I18nKeys.FourthParagraph)}</p>\r\n      <p>{t(I18nKeys.FifthParagraph)}</p>\r\n    </section>\r\n  );\r\n}\r\n","import React from 'react';\r\nimport { useTranslation } from 'react-i18next';\r\nimport { ResultSectionHowToGainWeightI18nKeys as I18nKeys } from 'shared/i18n-keys';\r\nimport { I18nNamespace, RoutePath } from 'shared/models';\r\nimport BaseActionLink from 'shared/BaseActionLink';\r\n\r\nexport default function ResultSectionHowToGainWeight() {\r\n  const { t } = useTranslation([I18nNamespace.ResultSectionHowToGainWeight]);\r\n  return (\r\n    <section className=\"page-section\">\r\n      <header>{t(I18nKeys.Title)}</header>\r\n      <p>{t(I18nKeys.FirstParagraph)}</p>\r\n      <p>{t(I18nKeys.SecondParagraph)}</p>\r\n      <p>{t(I18nKeys.ThirdParagraph)}</p>\r\n      <div className=\"action\">\r\n        <BaseActionLink to={RoutePath.WeightGainGuide} title={t(I18nKeys.OpenWeightGainGuide)} />\r\n      </div>\r\n    </section>\r\n  );\r\n}\r\n","import React from 'react';\r\nimport BaseActionLink from 'shared/BaseActionLink';\r\nimport { ResultSectionHowToLoseWeightI18nKeys as I18nKeys } from 'shared/i18n-keys';\r\nimport { useTranslation } from 'react-i18next';\r\nimport { I18nNamespace, RoutePath } from 'shared/models';\r\n\r\nexport default function ResultSectionHowToLoseWeight() {\r\n  const { t } = useTranslation([I18nNamespace.ResultSectionHowToLoseWeight]);\r\n  return (\r\n    <section className=\"page-section\">\r\n      <header>{t(I18nKeys.Title)}</header>\r\n      <p>{t(I18nKeys.FirstParagraph)}</p>\r\n      <p>{t(I18nKeys.SecondParagraph)}</p>\r\n      <p>{t(I18nKeys.ThirdParagraph)}</p>\r\n      <div className=\"action\">\r\n        <BaseActionLink to={RoutePath.WeightLossGuide} title={t(I18nKeys.OpenWeightLossGuide)} />\r\n      </div>\r\n    </section>\r\n  );\r\n}\r\n","import React from 'react';\r\nimport { GoalType } from 'shared/models';\r\nimport ResultSectionHowToGainWeight from './ResultSectionHowToGainWeight';\r\nimport ResultSectionHowToLoseWeight from './ResultSectionHowToLoseWeight';\r\n\r\ninterface ResultSectionAdviceProps {\r\n  goal: GoalType;\r\n}\r\n\r\nexport default function ResultSectionAdvice({ goal }: ResultSectionAdviceProps) {\r\n  switch (goal) {\r\n    case GoalType.Cut: {\r\n      return <ResultSectionHowToLoseWeight />;\r\n    }\r\n    case GoalType.Bulk: {\r\n      return <ResultSectionHowToGainWeight />;\r\n    }\r\n    default: {\r\n      return null;\r\n    }\r\n  }\r\n}\r\n","import React from 'react';\r\nimport { useTranslation } from 'react-i18next';\r\nimport { I18nNamespace, RoutePath } from 'shared/models';\r\nimport { ResultSectionHowToEatWellI18nKeys as I18nKeys } from 'shared/i18n-keys';\r\nimport BaseActionLink from 'shared/BaseActionLink';\r\n\r\nexport default function ResultSectionHowToEatWell() {\r\n  const { t } = useTranslation([I18nNamespace.ResultSectionHowToEatWell]);\r\n  return (\r\n    <section className=\"page-section\">\r\n      <header>{t(I18nKeys.Title)}</header>\r\n      <p>{t(I18nKeys.FirstParagraph)}</p>\r\n      <p>{t(I18nKeys.SecondParagraph)}</p>\r\n      <p>{t(I18nKeys.ThirdParagraph)}</p>\r\n      <div className=\"action\">\r\n        <BaseActionLink to={RoutePath.EatWellGuide} title={t(I18nKeys.OpenEatWellGuide)} />\r\n      </div>\r\n    </section>\r\n  );\r\n}\r\n","import React from 'react';\r\nimport { PersonInfo } from 'shared/models';\r\nimport { computeBMR, computeTarget } from 'shared/utils';\r\nimport { useTranslation } from 'react-i18next';\r\nimport { I18nKeys } from 'shared/i18n-keys';\r\nimport ResultSectionChoosingFood from './ResultSectionChoosingFood';\r\nimport ResultSectionYourAnswers from './ResultSectionYourAnswers';\r\nimport ResultSectionHowCalculationWorks from './ResultSectionHowCalculationWorks';\r\nimport ResultSectionDietPlan from './ResultSectionDietPlan';\r\nimport ResultSectionAdvice from './ResultSectionAdvice';\r\nimport ResultSectionHowToEatWell from './ResultSectionHowToEatWell';\r\n\r\ninterface CalorieResultProps {\r\n  personInfo: PersonInfo;\r\n}\r\n\r\nfunction ResultPage({ personInfo }: CalorieResultProps) {\r\n  const { t } = useTranslation();\r\n  const { age, sex, height, weight, activityLevel, goal } = personInfo;\r\n  const bmr = computeBMR(age, sex, height, weight);\r\n  const target = computeTarget(bmr, activityLevel, goal);\r\n\r\n  return (\r\n    <div>\r\n      <div className=\"result-panel\">\r\n        <h1 className=\"title\">{t(I18nKeys.ResultsTitle)}</h1>\r\n        <span className=\"number\">{Math.round(target)}</span>\r\n        <span className=\"label\">{t(I18nKeys.CaloriesPerDay)}</span>\r\n      </div>\r\n\r\n      <ResultSectionDietPlan target={target} />\r\n      <ResultSectionChoosingFood />\r\n      <ResultSectionAdvice goal={goal} />\r\n      <ResultSectionHowToEatWell />\r\n      <ResultSectionHowCalculationWorks />\r\n      <ResultSectionYourAnswers personInfo={personInfo} />\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default ResultPage;\r\n","import { Button } from 'antd';\r\nimport React, { useContext } from 'react';\r\nimport { useTranslation } from 'react-i18next';\r\nimport { useHistory } from 'react-router';\r\nimport { FormStateContext } from 'shared/FormStateContext';\r\nimport { RoutePath } from 'shared/models';\r\nimport { SubmissionContext } from 'shared/SubmissionContext';\r\nimport { I18nKeys } from 'shared/i18n-keys';\r\n\r\nfunction ResultInputChangeNotification() {\r\n  const { t } = useTranslation();\r\n  const history = useHistory();\r\n  const { formState } = useContext(FormStateContext);\r\n  const { submission } = useContext(SubmissionContext);\r\n\r\n  if (submission.submissionTime >= formState.updatedAt) {\r\n    return null;\r\n  }\r\n  return (\r\n    <div className=\"notification\">\r\n      <h3 className=\"notification__header\">{t(I18nKeys.YourInputHasChanged)}</h3>\r\n      <p>{t(I18nKeys.NotificationFirstPara)}</p>\r\n\r\n      <Button type=\"primary\" htmlType=\"button\" onClick={() => history.push(RoutePath.FitnessGoal)}>\r\n        {t(I18nKeys.GoBack)}\r\n      </Button>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default ResultInputChangeNotification;\r\n","import React, { useContext } from 'react';\r\nimport { Redirect, useLocation } from 'react-router-dom';\r\nimport ResultPage from './ResultPage';\r\nimport { SubmissionContext } from 'shared/SubmissionContext';\r\nimport ResultInputChangeNotification from './ResultInputChangeNotification';\r\nimport { RoutePath } from 'shared/models';\r\n\r\nfunction Result() {\r\n  const location = useLocation();\r\n  const { submission } = useContext(SubmissionContext);\r\n\r\n  if (!submission) {\r\n    return <Redirect to={{ pathname: RoutePath.FitnessGoal, state: { from: location } }} />;\r\n  }\r\n\r\n  return (\r\n    <div className=\"width-container\">\r\n      <ResultInputChangeNotification />\r\n      <ResultPage personInfo={submission.data} />\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Result;\r\n","import React from 'react';\r\nimport { Table, TableProps } from 'antd';\r\nimport { useTranslation } from 'react-i18next';\r\nimport { HowCalculationWorksI18nKeys } from 'shared/i18n-keys';\r\nimport { activityLabelI18nKeys, activityRates, ActivityLevel, I18nNamespace } from 'shared/models';\r\n\r\nconst { Column } = Table;\r\n\r\ninterface TableRow {\r\n  activityLevel: string;\r\n  rate: number;\r\n}\r\n\r\ntype MealTableProps = Omit<TableProps<TableRow>, 'columns' | 'dataSource'>;\r\n\r\nconst allActivityTypes = Object.values(ActivityLevel);\r\n\r\nexport function ActivityRateTable(props: MealTableProps) {\r\n  const { t } = useTranslation(I18nNamespace.HowCalculationWorks);\r\n  const tableData: TableRow[] = allActivityTypes.map((type) => ({\r\n    key: type,\r\n    activityLevel: t(activityLabelI18nKeys[type]),\r\n    rate: activityRates[type],\r\n  }));\r\n\r\n  return (\r\n    <Table size=\"large\" dataSource={tableData} {...props}>\r\n      <Column\r\n        title={t(HowCalculationWorksI18nKeys.WeeklyExerciseAmount)}\r\n        dataIndex=\"activityLevel\"\r\n        key=\"activityLevel\"\r\n      />\r\n      <Column\r\n        title={t(HowCalculationWorksI18nKeys.ActivityLevelFactor)}\r\n        dataIndex=\"rate\"\r\n        key=\"rate\"\r\n        className=\"align-right\"\r\n      />\r\n    </Table>\r\n  );\r\n}\r\n\r\nexport default ActivityRateTable;\r\n","import React from 'react';\r\nimport { useTranslation } from 'react-i18next';\r\nimport scrollTo from 'antd/lib/_util/scrollTo';\r\nimport { ArrowUpOutlined } from '@ant-design/icons';\r\nimport { I18nKeys } from 'shared/i18n-keys';\r\n\r\nexport default function BaseBackToTopButton() {\r\n  const { t } = useTranslation();\r\n  const scrollToTop = () => scrollTo(0);\r\n  return (\r\n    <button onClick={scrollToTop} className=\"back-to-top-button\">\r\n      <ArrowUpOutlined className=\"back-to-top-button__arrow\" />\r\n      <span>{t(I18nKeys.BackToTop)}</span>\r\n    </button>\r\n  );\r\n}\r\n","import React from 'react';\r\nimport { useTranslation } from 'react-i18next';\r\nimport {\r\n  I18nKeys as CommonI18nKeys,\r\n  HowCalculationWorksI18nKeys as I18nKeys,\r\n} from 'shared/i18n-keys';\r\nimport ActivityRateTable from 'how-calculation-works/HowCalculationWorksActivityRateTable';\r\nimport { I18nNamespace, RoutePath } from 'shared/models';\r\nimport BaseGoBackButton from 'shared/BaseGoBackButton';\r\nimport BaseBackToTopButton from 'shared/BaseBackToTopButton';\r\n\r\nexport default function HowCalculationWorks() {\r\n  const { t } = useTranslation(I18nNamespace.HowCalculationWorks);\r\n  return (\r\n    <div className=\"width-container\">\r\n      <BaseGoBackButton to={RoutePath.Results} titleOverride={t(CommonI18nKeys.GoBackToResults)} />\r\n      <div className=\"how-it-works\">\r\n        <h1>{t(I18nKeys.Title)}</h1>\r\n        <p>{t(I18nKeys.Intro)}</p>\r\n        <ol className=\"summary\">\r\n          <li>{t(I18nKeys.CalculateBMR)}</li>\r\n          <li>{t(I18nKeys.CalculateTDEE)}</li>\r\n          <li>{t(I18nKeys.CaterToFitnessGoal)}</li>\r\n        </ol>\r\n        <section>\r\n          <h2>1. {t(I18nKeys.CalculateBMR)}</h2>\r\n          <p>{t(I18nKeys.StepOneFirstPara)}</p>\r\n          <strong>{t(I18nKeys.HowTo)}</strong>\r\n          <p>{t(I18nKeys.StepOneSecondPara)}</p>\r\n          <strong>{t(I18nKeys.BMREquationName)}</strong>\r\n          <ul>\r\n            <li>\r\n              <div>{t(I18nKeys.ForMen)}</div>\r\n              <span>\r\n                10  {t(CommonI18nKeys.Weight).toLowerCase()} + 6.25 {' '}\r\n                {t(CommonI18nKeys.Height).toLowerCase()} - 5  {t(CommonI18nKeys.Age).toLowerCase()}{' '}\r\n                + 5\r\n              </span>\r\n            </li>\r\n            <li>\r\n              <div>{t(I18nKeys.FOrWomen)}</div>\r\n              <span>\r\n                10  {t(CommonI18nKeys.Weight).toLowerCase()} + 6.25 {' '}\r\n                {t(CommonI18nKeys.Height).toLowerCase()} - 5  {t(CommonI18nKeys.Age).toLowerCase()}{' '}\r\n                - 161\r\n              </span>\r\n            </li>\r\n          </ul>\r\n          <p>{t(I18nKeys.StepOneThirdPara)}</p>\r\n        </section>\r\n        <section>\r\n          <h2>2. {t(I18nKeys.CalculateTDEE)}</h2>\r\n          <p>{t(I18nKeys.StepTwoFirstPara)}</p>\r\n          <ul>\r\n            <li>{t(I18nKeys.TheBMR)}</li>\r\n            <li>{t(I18nKeys.FoodThermicEffect)}</li>\r\n            <li>{t(I18nKeys.ActivityThermicEffect)}</li>\r\n          </ul>\r\n          <p>{t(I18nKeys.StepTwoSecondPara)}</p>\r\n          <strong>{t(I18nKeys.HowTo)}</strong>\r\n          <p>{t(I18nKeys.StepTwoThirdPara)}</p>\r\n          <p>{t(I18nKeys.StepTwoFourthPara)}</p>\r\n          <strong>{t(I18nKeys.ActivityLevelFactorTableName)}</strong>\r\n          <ActivityRateTable pagination={false} className=\"activity-rate-table\" />\r\n        </section>\r\n        <section>\r\n          <h2>3. {t(I18nKeys.CaterToFitnessGoal)}</h2>\r\n          <p>{t(I18nKeys.StepThreeFirstPara)}</p>\r\n          <p>{t(I18nKeys.StepThreeSecondPara)}</p>\r\n          <ul>\r\n            <li>{t(I18nKeys.WeightGainingExplanation)}</li>\r\n            <li>{t(I18nKeys.WeightLossExplanation)}</li>\r\n          </ul>\r\n          <strong>{t(I18nKeys.HowTo)}</strong>\r\n          <p>{t(I18nKeys.StepThreeThirdPara)}</p>\r\n          <p>{t(I18nKeys.StepThreeFourthPara)}</p>\r\n          <p>{t(I18nKeys.StepThreeFifthPara)}</p>\r\n        </section>\r\n      </div>\r\n      <BaseBackToTopButton />\r\n    </div>\r\n  );\r\n}\r\n","import React, { useContext, useState } from 'react';\r\nimport { Button } from 'antd';\r\nimport { useTranslation } from 'react-i18next';\r\nimport { I18nKeys } from 'shared/i18n-keys';\r\nimport { SaveSubmissionFlagContext } from './saveSubmissionFlagContext';\r\nimport { SubmissionContext } from './SubmissionContext';\r\n\r\nexport default function SubmissionBanner() {\r\n  const { t } = useTranslation();\r\n  const { saveSubmissionFlag, setSaveSubmissionFlag } = useContext(SaveSubmissionFlagContext);\r\n  const { submission } = useContext(SubmissionContext);\r\n  const [showBanner, setShowBanner] = useState(submission && saveSubmissionFlag === null);\r\n  const [showConfirmation, setShowConfirmation] = useState(false);\r\n\r\n  const handleClickYes = () => {\r\n    setSaveSubmissionFlag(true);\r\n    setShowConfirmation(true);\r\n  };\r\n  const handleClickNo = () => {\r\n    setSaveSubmissionFlag(false);\r\n    setShowConfirmation(true);\r\n  };\r\n  const hideBanner = () => setShowBanner(false);\r\n\r\n  if (!showBanner) {\r\n    return null;\r\n  }\r\n  if (showConfirmation) {\r\n    return (\r\n      <div className=\"submission-banner\">\r\n        <div className=\"width-container\">\r\n          <p>\r\n            {t(\r\n              saveSubmissionFlag\r\n                ? I18nKeys.KeepSubmissionConfirmation\r\n                : I18nKeys.DoNotKeepSubmissionConfirmation\r\n            )}\r\n          </p>\r\n          <div className=\"action-group\">\r\n            <Button size=\"large\" htmlType=\"button\" className=\"button\" onClick={hideBanner}>\r\n              {t(I18nKeys.HideThisMessage)}\r\n            </Button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n  return (\r\n    <div className=\"submission-banner\">\r\n      <div className=\"width-container\">\r\n        <header>{t(I18nKeys.DoYouWantToKeepSubmission)}</header>\r\n        <p>{t(I18nKeys.BannerFirstParagraph)}</p>\r\n        <div className=\"action-group\">\r\n          <Button size=\"large\" htmlType=\"button\" className=\"button\" onClick={handleClickYes}>\r\n            {t(I18nKeys.BannerKeepSubmission)}\r\n          </Button>\r\n          <Button size=\"large\" htmlType=\"button\" className=\"button\" onClick={handleClickNo}>\r\n            {t(I18nKeys.BannerDoNotKeepSubmission)}\r\n          </Button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","import { useEffect } from 'react';\r\nimport { useTranslation } from 'react-i18next';\r\n\r\nfunction UpdateDocumentLang(): null {\r\n  const { i18n } = useTranslation();\r\n\r\n  useEffect(() => {\r\n    document.documentElement.lang = i18n.resolvedLanguage;\r\n  }, [i18n.resolvedLanguage]);\r\n\r\n  return null;\r\n}\r\n\r\nexport default UpdateDocumentLang;\r\n","import React, { useEffect, useState } from 'react';\r\nimport marked from 'marked';\r\nimport dompurify from 'dompurify';\r\nimport axios from 'axios';\r\nimport { Skeleton } from 'antd';\r\n\r\ninterface BaseMarkdownConverterProps {\r\n  url: string;\r\n  onLoad?: () => void;\r\n}\r\n\r\nexport default function BaseMarkdownConverter({ url, onLoad }: BaseMarkdownConverterProps) {\r\n  const [markdown, setMarkdown] = useState('');\r\n\r\n  const init = async () => {\r\n    const markdown = await axios.get<string>(url).then(({ data }) => data);\r\n    setMarkdown(markdown);\r\n    !onLoad ? null : onLoad();\r\n  };\r\n\r\n  useEffect(() => {\r\n    init();\r\n  }, [url]);\r\n\r\n  if (!markdown) {\r\n    return <Skeleton active paragraph={{ rows: 8 }} />;\r\n  }\r\n\r\n  return (\r\n    <div\r\n      dangerouslySetInnerHTML={{\r\n        __html: marked(markdown, { sanitizer: (dirty) => dompurify.sanitize(dirty) }),\r\n      }}\r\n      className=\"markdown-content\"\r\n    ></div>\r\n  );\r\n}\r\n","import React, { useState } from 'react';\r\nimport { useTranslation } from 'react-i18next';\r\nimport BaseBackToTopButton from 'shared/BaseBackToTopButton';\r\nimport BaseGoBackButton from 'shared/BaseGoBackButton';\r\nimport BaseMarkdownConverter from 'shared/BaseMarkdownConverter';\r\nimport { I18nKeys } from 'shared/i18n-keys';\r\nimport { RoutePath } from 'shared/models';\r\n\r\nexport default function WeightGainGuide() {\r\n  const { t, i18n } = useTranslation();\r\n  const [showBackToTopButton, setShowBackToTopButton] = useState(false);\r\n  const url = `${process.env.PUBLIC_URL}/docs/how-to-gain-weight-${i18n.resolvedLanguage}.md`;\r\n\r\n  return (\r\n    <div className=\"width-container\">\r\n      <BaseGoBackButton to={RoutePath.Results} titleOverride={t(I18nKeys.GoBackToResults)} />\r\n      <BaseMarkdownConverter url={url} onLoad={() => setShowBackToTopButton(true)} />\r\n      {!showBackToTopButton ? null : <BaseBackToTopButton />}\r\n    </div>\r\n  );\r\n}\r\n","import React, { useState } from 'react';\r\nimport { useTranslation } from 'react-i18next';\r\nimport BaseBackToTopButton from 'shared/BaseBackToTopButton';\r\nimport BaseGoBackButton from 'shared/BaseGoBackButton';\r\nimport BaseMarkdownConverter from 'shared/BaseMarkdownConverter';\r\nimport { I18nKeys } from 'shared/i18n-keys';\r\nimport { RoutePath } from 'shared/models';\r\n\r\nexport default function WeightLossGuide() {\r\n  const { t, i18n } = useTranslation();\r\n  const [showBackToTopButton, setShowBackToTopButton] = useState(false);\r\n  const url = `${process.env.PUBLIC_URL}/docs/how-to-lose-weight-${i18n.resolvedLanguage}.md`;\r\n\r\n  return (\r\n    <div className=\"width-container\">\r\n      <BaseGoBackButton to={RoutePath.Results} titleOverride={t(I18nKeys.GoBackToResults)} />\r\n      <BaseMarkdownConverter url={url} onLoad={() => setShowBackToTopButton(true)} />\r\n      {!showBackToTopButton ? null : <BaseBackToTopButton />}\r\n    </div>\r\n  );\r\n}\r\n","import React, { useState } from 'react';\r\nimport { useTranslation } from 'react-i18next';\r\nimport BaseGoBackButton from 'shared/BaseGoBackButton';\r\nimport BaseMarkdownConverter from 'shared/BaseMarkdownConverter';\r\nimport { RoutePath } from 'shared/models';\r\nimport { I18nKeys } from 'shared/i18n-keys';\r\nimport BaseBackToTopButton from 'shared/BaseBackToTopButton';\r\n\r\nexport default function EatWellGuide() {\r\n  const { t, i18n } = useTranslation();\r\n  const [showBackToTopButton, setShowBackToTopButton] = useState(false);\r\n  const url = `${process.env.PUBLIC_URL}/docs/how-to-eat-well-${i18n.resolvedLanguage}.md`;\r\n\r\n  return (\r\n    <div className=\"width-container\">\r\n      <BaseGoBackButton to={RoutePath.Results} titleOverride={t(I18nKeys.GoBackToResults)} />\r\n      <BaseMarkdownConverter url={url} onLoad={() => setShowBackToTopButton(true)} />\r\n      {!showBackToTopButton ? null : <BaseBackToTopButton />}\r\n    </div>\r\n  );\r\n}\r\n","import { parse } from 'papaparse';\r\nimport { Food } from 'shared/models';\r\n\r\nconst url = `${process.env.PUBLIC_URL}/food-calorie-table.csv`;\r\n\r\nexport const listFoodCalories: () => Promise<Food[]> = () => {\r\n  return new Promise((resolve) => {\r\n    parse<Food>(url, {\r\n      delimiter: ',',\r\n      download: true,\r\n      header: true,\r\n      transformHeader: (header) => header.trim(),\r\n      transform: (value, field) => {\r\n        const _value = value.trim();\r\n        if (field === 'weight' || field === 'calorie') {\r\n          return Number(_value);\r\n        }\r\n        return _value === 'n/a' ? null : _value;\r\n      },\r\n      complete: ({ data }) => resolve(data),\r\n    });\r\n  });\r\n};\r\n","import React from 'react';\r\nimport { useTranslation } from 'react-i18next';\r\nimport { I18nKeys as CommonI18nKeys } from 'shared/i18n-keys';\r\nimport { Food, FoodType, I18nNamespace } from 'shared/models';\r\n\r\ninterface CalorieCheckerFoodWithNoControlProps {\r\n  food: Food;\r\n}\r\n\r\nexport default function CalorieCheckerFoodWithNoControl({\r\n  food: { type, name, nameZh, weight, calorie },\r\n}: CalorieCheckerFoodWithNoControlProps) {\r\n  const { t, i18n } = useTranslation(I18nNamespace.CalorieChecker);\r\n  const weightWithUnit =\r\n    type === FoodType.Drinks\r\n      ? t(CommonI18nKeys.Milliliter_amount, { amount: weight })\r\n      : t(CommonI18nKeys.Grams_amount, { amount: weight });\r\n\r\n  return (\r\n    <div className=\"food\">\r\n      <header className=\"food__header\">{i18n.resolvedLanguage === 'en' ? name : nameZh}</header>\r\n      <div className=\"food__grid\">\r\n        <span className=\"food__property\">{t(CommonI18nKeys.Amount)}</span>\r\n        <div>{weightWithUnit}</div>\r\n        <span className=\"food__property\">{t(CommonI18nKeys.Calories)}</span>\r\n        <span>{t(CommonI18nKeys.Kilocalorie_amount, { amount: calorie })}</span>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","import React, { useState } from 'react';\r\nimport { useTranslation } from 'react-i18next';\r\nimport { Radio } from 'antd';\r\nimport { I18nKeys as CommonI18nKeys, CalorieCheckerI18nKeys as I18nKeys } from 'shared/i18n-keys';\r\nimport { FoodType, foodUnitI18nKeys, FoodWithPortionAndUnit, I18nNamespace } from 'shared/models';\r\nimport { isFraction } from 'shared/utils';\r\n\r\ninterface CalorieCheckerFoodWithSwitchProps {\r\n  food: FoodWithPortionAndUnit;\r\n}\r\n\r\ntype CalorieCheckerFoodSelectedAmount = 'original' | '100-grams-or-milliliters';\r\n\r\nexport default function CalorieCheckerFoodWithSwitch({\r\n  food: { type, name, nameZh, portion, unit, weight, calorie },\r\n}: CalorieCheckerFoodWithSwitchProps) {\r\n  const { t, i18n } = useTranslation(I18nNamespace.CalorieChecker);\r\n  const [selectedAmount, setSelectedAmount] =\r\n    useState<CalorieCheckerFoodSelectedAmount>('original');\r\n  const portionWithUnit =\r\n    portion === '1/2'\r\n      ? t(I18nKeys.HalfPortionWithUnit_unit, {\r\n          unit: t(foodUnitI18nKeys[unit]).toLowerCase(),\r\n        })\r\n      : t(I18nKeys.PortionWithUnit_portion_unit, {\r\n          portion,\r\n          unit: t(foodUnitI18nKeys[unit], {\r\n            count: isFraction(portion) ? 1 : Number(portion),\r\n          }).toLowerCase(),\r\n        });\r\n  const weightWithUnit =\r\n    type === FoodType.Drinks\r\n      ? t(CommonI18nKeys.Milliliter_amount, { amount: weight })\r\n      : t(CommonI18nKeys.Grams_amount, { amount: weight });\r\n\r\n  const portionAndWeight = t(I18nKeys.PortionAndWeightInBrackets_portion_weight, {\r\n    portion: portionWithUnit,\r\n    weight: weightWithUnit,\r\n  });\r\n\r\n  const options: { value: CalorieCheckerFoodSelectedAmount; label: string }[] = [\r\n    {\r\n      value: 'original',\r\n      label: portionAndWeight,\r\n    },\r\n    {\r\n      value: '100-grams-or-milliliters',\r\n      label:\r\n        type === FoodType.Drinks\r\n          ? t(CommonI18nKeys.Milliliter_amount, { amount: 100 })\r\n          : t(CommonI18nKeys.Grams_amount, { amount: 100 }),\r\n    },\r\n  ];\r\n\r\n  const caloriesPerOneHundredGramsOrMilliliters = Math.round((calorie / weight) * 100);\r\n\r\n  return (\r\n    <div className=\"food\">\r\n      <header className=\"food__header\">{i18n.resolvedLanguage === 'en' ? name : nameZh}</header>\r\n      <div className=\"food__grid\">\r\n        <span className=\"food__property\">{t(CommonI18nKeys.Amount)}</span>\r\n        <Radio.Group\r\n          options={options}\r\n          optionType=\"button\"\r\n          value={selectedAmount}\r\n          onChange={(v) => setSelectedAmount(v.target.value)}\r\n          size=\"small\"\r\n        />\r\n        <span className=\"food__property\">{t(CommonI18nKeys.Calories)}</span>\r\n        <span>\r\n          {t(CommonI18nKeys.Kilocalorie_amount, {\r\n            amount:\r\n              selectedAmount === 'original' ? calorie : caloriesPerOneHundredGramsOrMilliliters,\r\n          })}\r\n        </span>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","import React from 'react';\r\nimport { Food } from 'shared/models';\r\nimport CalorieCheckerFoodWithNoControl from './CalorieCheckerFoodWithNoControl';\r\nimport CalorieCheckerFoodWithSwitch from './CalorieCheckerFoodWithSwitch';\r\n\r\ninterface CalorieCheckerFoodProps {\r\n  food: Food;\r\n}\r\n\r\nexport default function CalorieCheckerFood({ food }: CalorieCheckerFoodProps) {\r\n  if (!food.portion || !food.unit) {\r\n    return <CalorieCheckerFoodWithNoControl food={food} />;\r\n  }\r\n  return <CalorieCheckerFoodWithSwitch food={food} />;\r\n}\r\n","import React, { useEffect, useState } from 'react';\r\nimport { Collapse, Spin } from 'antd';\r\nimport { LoadingOutlined } from '@ant-design/icons';\r\nimport { useTranslation } from 'react-i18next';\r\nimport { allFoodTypes, Food, foodTypeI18nKeys, I18nNamespace, RoutePath } from 'shared/models';\r\nimport { listFoodCalories } from 'services/calorie-checker-service';\r\nimport CalorieCheckerFood from './CalorieCheckerFood';\r\nimport { I18nKeys as CommonI18nKeys, CalorieCheckerI18nKeys as I18nKeys } from 'shared/i18n-keys';\r\nimport BaseGoBackButton from 'shared/BaseGoBackButton';\r\nimport BaseBackToTopButton from 'shared/BaseBackToTopButton';\r\n\r\nconst { Panel } = Collapse;\r\n\r\nexport default function CalorieChecker() {\r\n  const { t } = useTranslation(I18nNamespace.CalorieChecker);\r\n  const [foodArray, setFoodArray] = useState<Food[]>([]);\r\n\r\n  const init = () => listFoodCalories().then((arr) => setFoodArray(arr));\r\n  const scrollToElementWithId = (id: string) => document.getElementById(id)?.scrollIntoView();\r\n\r\n  useEffect(() => {\r\n    init();\r\n  }, []);\r\n\r\n  return (\r\n    <div>\r\n      <div className=\"width-container\">\r\n        <BaseGoBackButton\r\n          to={RoutePath.Results}\r\n          titleOverride={t(CommonI18nKeys.GoBackToResults)}\r\n        />\r\n        <h1 id=\"page_title\">{t(I18nKeys.Title)}</h1>\r\n      </div>\r\n      {foodArray.length === 0 ? (\r\n        <div className=\"spinner-wrapper\">\r\n          <span>{t(CommonI18nKeys.Loading)}</span>\r\n          <Spin indicator={<LoadingOutlined className=\"spinner\" spin />} size=\"default\" />\r\n        </div>\r\n      ) : (\r\n        <>\r\n          <div className=\"width-container\">\r\n            <p>{t(I18nKeys.Intro)}</p>\r\n            <ul id=\"calorie-checker_nav_list\" className=\"calorie-checker__nav-list\">\r\n              {allFoodTypes.map((foodType) => (\r\n                <li key={foodType} className=\"calorie-checker__nav-item\">\r\n                  <button\r\n                    onClick={() => scrollToElementWithId(foodType)}\r\n                    className=\"calorie-checker__nav-link\"\r\n                  >\r\n                    {t(foodTypeI18nKeys[foodType])}\r\n                  </button>\r\n                </li>\r\n              ))}\r\n            </ul>\r\n          </div>\r\n          <div className=\"calorie-checker__collapse-override\">\r\n            <Collapse ghost collapsible=\"disabled\" activeKey={allFoodTypes}>\r\n              {allFoodTypes.map((foodType) => (\r\n                <Panel header={null} key={foodType} showArrow={false}>\r\n                  <div className=\"food-list-panel\">\r\n                    <h2 id={foodType} className=\"food-list-panel__label\">\r\n                      {t(foodTypeI18nKeys[foodType])}\r\n                    </h2>\r\n                    <div className=\"food-list-panel__list\">\r\n                      {foodArray\r\n                        .filter(({ type }) => type === foodType)\r\n                        .map((food) => (\r\n                          <div key={food.name} className=\"food-list-panel__item\">\r\n                            <div className=\"width-container\">\r\n                              <CalorieCheckerFood food={food} />\r\n                            </div>\r\n                          </div>\r\n                        ))}\r\n                    </div>\r\n                    <div className=\"back-to-top\">\r\n                      <div className=\"width-container\">\r\n                        <BaseBackToTopButton />\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                </Panel>\r\n              ))}\r\n            </Collapse>\r\n          </div>\r\n        </>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n","import React, { useState } from 'react';\r\nimport { useTranslation } from 'react-i18next';\r\nimport BaseBackToTopButton from 'shared/BaseBackToTopButton';\r\nimport BaseGoBackButton from 'shared/BaseGoBackButton';\r\nimport BaseMarkdownConverter from 'shared/BaseMarkdownConverter';\r\nimport { I18nKeys } from 'shared/i18n-keys';\r\nimport { RoutePath } from 'shared/models';\r\n\r\nexport default function AboutThisApp() {\r\n  const { t, i18n } = useTranslation();\r\n  const [showBackToTopButton, setShowBackToTopButton] = useState(false);\r\n  const url = `${process.env.PUBLIC_URL}/docs/about-${i18n.resolvedLanguage}.md`;\r\n\r\n  return (\r\n    <div className=\"width-container\">\r\n      <BaseGoBackButton to={RoutePath.Home} titleOverride={t(I18nKeys.GoBackHome)} />\r\n      <BaseMarkdownConverter url={url} onLoad={() => setShowBackToTopButton(true)} />\r\n      {!showBackToTopButton ? null : <BaseBackToTopButton />}\r\n    </div>\r\n  );\r\n}\r\n","import React, { useState } from 'react';\r\nimport { useTranslation } from 'react-i18next';\r\nimport BaseBackToTopButton from 'shared/BaseBackToTopButton';\r\nimport BaseGoBackButton from 'shared/BaseGoBackButton';\r\nimport BaseMarkdownConverter from 'shared/BaseMarkdownConverter';\r\nimport { I18nKeys } from 'shared/i18n-keys';\r\nimport { RoutePath } from 'shared/models';\r\n\r\nexport default function Disclaimer() {\r\n  const { t, i18n } = useTranslation();\r\n  const [showBackToTopButton, setShowBackToTopButton] = useState(false);\r\n  const url = `${process.env.PUBLIC_URL}/docs/disclaimer-${i18n.resolvedLanguage}.md`;\r\n\r\n  return (\r\n    <div className=\"width-container\">\r\n      <BaseGoBackButton to={RoutePath.Home} titleOverride={t(I18nKeys.GoBackHome)} />\r\n      <BaseMarkdownConverter url={url} onLoad={() => setShowBackToTopButton(true)} />\r\n      {!showBackToTopButton ? null : <BaseBackToTopButton />}\r\n    </div>\r\n  );\r\n}\r\n","import React from 'react';\r\nimport { Switch, Route, HashRouter } from 'react-router-dom';\r\nimport { ConfigProvider } from 'antd';\r\nimport 'shared/i18n';\r\nimport { SubmissionContextProvider } from 'shared/SubmissionContext';\r\nimport { FormStateContextProvider } from 'shared/FormStateContext';\r\nimport { SaveSubmissionFlagContextProvider } from 'shared/saveSubmissionFlagContext';\r\nimport { RoutePath } from 'shared/models';\r\nimport PageTemplate from 'shared/page-template/PageTemplate';\r\nimport ScrollToTop from 'shared/ScrollToTop';\r\nimport Home from './home/Home';\r\nimport PersonalDetails from 'personal-details/PersonalDetails';\r\nimport ActivityLevel from './activity-level/ActivityLevel';\r\nimport FitnessGoal from './fitness-goal/FitnessGoal';\r\nimport Result from './results/Result';\r\nimport HowCalculationWorks from 'how-calculation-works/HowCalculationWorks';\r\nimport SubmissionBanner from 'shared/SubmissionBanner';\r\nimport UpdateDocumentLang from 'shared/UpdateDocumentLang';\r\nimport WeightGainGuide from 'WeightGainGuide';\r\nimport WeightLossGuide from 'WeightLossGuide';\r\nimport EatWellGuide from 'EatWellGuide';\r\nimport CalorieChecker from 'calorie-checker/CalorieChecker';\r\nimport AboutThisApp from 'AboutThisApp';\r\nimport Disclaimer from 'Disclaimer';\r\n\r\nimport './App.less';\r\n\r\nfunction App() {\r\n  return (\r\n    <ConfigProvider autoInsertSpaceInButton={false}>\r\n      <SaveSubmissionFlagContextProvider>\r\n        <SubmissionContextProvider>\r\n          <FormStateContextProvider>\r\n            <SubmissionBanner />\r\n            <HashRouter>\r\n              <PageTemplate>\r\n                <Switch>\r\n                  <Route path={RoutePath.Home} exact>\r\n                    <Home />\r\n                  </Route>\r\n\r\n                  <Route path={RoutePath.PersonalDetails}>\r\n                    <PersonalDetails />\r\n                  </Route>\r\n\r\n                  <Route path={RoutePath.ActivityLevel}>\r\n                    <ActivityLevel />\r\n                  </Route>\r\n\r\n                  <Route path={RoutePath.FitnessGoal}>\r\n                    <FitnessGoal />\r\n                  </Route>\r\n\r\n                  <Route path={RoutePath.Results}>\r\n                    <Result />\r\n                  </Route>\r\n\r\n                  <Route path={RoutePath.CalorieChecker}>\r\n                    <CalorieChecker />\r\n                  </Route>\r\n\r\n                  <Route path={RoutePath.HowCalculationWorks}>\r\n                    <HowCalculationWorks />\r\n                  </Route>\r\n\r\n                  <Route path={RoutePath.WeightGainGuide}>\r\n                    <WeightGainGuide />\r\n                  </Route>\r\n\r\n                  <Route path={RoutePath.WeightLossGuide}>\r\n                    <WeightLossGuide />\r\n                  </Route>\r\n\r\n                  <Route path={RoutePath.EatWellGuide}>\r\n                    <EatWellGuide />\r\n                  </Route>\r\n\r\n                  <Route path={RoutePath.AboutThisApp}>\r\n                    <AboutThisApp />\r\n                  </Route>\r\n\r\n                  <Route path={RoutePath.Disclaimer}>\r\n                    <Disclaimer />\r\n                  </Route>\r\n                </Switch>\r\n              </PageTemplate>\r\n              <ScrollToTop />\r\n            </HashRouter>\r\n            <UpdateDocumentLang />\r\n          </FormStateContextProvider>\r\n        </SubmissionContextProvider>\r\n      </SaveSubmissionFlagContextProvider>\r\n    </ConfigProvider>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport App from './App';\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n"],"sourceRoot":""}